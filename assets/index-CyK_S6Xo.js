import{z as po,s as re,h as go,t as mo,a as _o,i as Mn}from"./d3-4o5w_rKg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ge={},Bt=[],it=()=>{},vo=()=>!1,As=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dn=e=>e.startsWith("onUpdate:"),Oe=Object.assign,hn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},yo=Object.prototype.hasOwnProperty,ce=(e,t)=>yo.call(e,t),Y=Array.isArray,Wt=e=>Rs(e)==="[object Map]",or=e=>Rs(e)==="[object Set]",te=e=>typeof e=="function",$e=e=>typeof e=="string",Ct=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",ir=e=>(be(e)||te(e))&&te(e.then)&&te(e.catch),lr=Object.prototype.toString,Rs=e=>lr.call(e),bo=e=>Rs(e).slice(8,-1),ar=e=>Rs(e)==="[object Object]",pn=e=>$e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ns=fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},$o=/-(\w)/g,xt=Fs(e=>e.replace($o,(t,s)=>s?s.toUpperCase():"")),wo=/\B([A-Z])/g,It=Fs(e=>e.replace(wo,"-$1").toLowerCase()),cr=Fs(e=>e.charAt(0).toUpperCase()+e.slice(1)),zs=Fs(e=>e?`on${cr(e)}`:""),wt=(e,t)=>!Object.is(e,t),Bs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ur=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},xo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let kn;const js=()=>kn||(kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rt(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=$e(n)?Lo(n):Rt(n);if(r)for(const i in r)t[i]=r[i]}return t}else if($e(e)||be(e))return e}const Co=/;(?![^(]*\))/g,So=/:([^]+)/,To=/\/\*[^]*?\*\//g;function Lo(e){const t={};return e.replace(To,"").split(Co).forEach(s=>{if(s){const n=s.split(So);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ze(e){let t="";if($e(e))t=e;else if(Y(e))for(let s=0;s<e.length;s++){const n=Ze(e[s]);n&&(t+=n+" ")}else if(be(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Eo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mo=fn(Eo);function fr(e){return!!e||e===""}const dr=e=>!!(e&&e.__v_isRef===!0),fe=e=>$e(e)?e:e==null?"":Y(e)||be(e)&&(e.toString===lr||!te(e.toString))?dr(e)?fe(e.value):JSON.stringify(e,hr,2):String(e),hr=(e,t)=>dr(t)?hr(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[Ws(n,i)+" =>"]=r,s),{})}:or(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ws(s))}:Ct(t)?Ws(t):be(t)&&!Y(t)&&!ar(t)?String(t):t,Ws=(e,t="")=>{var s;return Ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let We;class ko{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=We,!t&&We&&(this.index=(We.scopes||(We.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=We;try{return We=this,t()}finally{We=s}}}on(){We=this}off(){We=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Po(){return We}let pe;const Vs=new WeakSet;class pr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,We&&We.active&&We.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vs.has(this)&&(Vs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pn(this),_r(this);const t=pe,s=Qe;pe=this,Qe=!0;try{return this.fn()}finally{vr(this),pe=t,Qe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_n(t);this.deps=this.depsTail=void 0,Pn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qs(this)&&this.run()}get dirty(){return Qs(this)}}let gr=0,rs,os;function mr(e,t=!1){if(e.flags|=8,t){e.next=os,os=e;return}e.next=rs,rs=e}function gn(){gr++}function mn(){if(--gr>0)return;if(os){let t=os;for(os=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;rs;){let t=rs;for(rs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function _r(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vr(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),_n(n),Ao(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Qs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===cs))return;e.globalVersion=cs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Qs(e)){e.flags&=-3;return}const s=pe,n=Qe;pe=e,Qe=!0;try{_r(e);const r=e.fn(e._value);(t.version===0||wt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{pe=s,Qe=n,vr(e),e.flags&=-3}}function _n(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)_n(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ao(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Qe=!0;const br=[];function St(){br.push(Qe),Qe=!1}function Tt(){const e=br.pop();Qe=e===void 0?!0:e}function Pn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=pe;pe=void 0;try{t()}finally{pe=s}}}let cs=0;class Ro{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!pe||!Qe||pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==pe)s=this.activeLink=new Ro(pe,this),pe.deps?(s.prevDep=pe.depsTail,pe.depsTail.nextDep=s,pe.depsTail=s):pe.deps=pe.depsTail=s,$r(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=pe.depsTail,s.nextDep=void 0,pe.depsTail.nextDep=s,pe.depsTail=s,pe.deps===s&&(pe.deps=n)}return s}trigger(t){this.version++,cs++,this.notify(t)}notify(t){gn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{mn()}}}function $r(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)$r(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const en=new WeakMap,Ft=Symbol(""),tn=Symbol(""),us=Symbol("");function Te(e,t,s){if(Qe&&pe){let n=en.get(e);n||en.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new vn),r.map=n,r.key=s),r.track()}}function ht(e,t,s,n,r,i){const a=en.get(e);if(!a){cs++;return}const c=h=>{h&&h.trigger()};if(gn(),t==="clear")a.forEach(c);else{const h=Y(e),$=h&&pn(s);if(h&&s==="length"){const v=Number(n);a.forEach((x,P)=>{(P==="length"||P===us||!Ct(P)&&P>=v)&&c(x)})}else switch((s!==void 0||a.has(void 0))&&c(a.get(s)),$&&c(a.get(us)),t){case"add":h?$&&c(a.get("length")):(c(a.get(Ft)),Wt(e)&&c(a.get(tn)));break;case"delete":h||(c(a.get(Ft)),Wt(e)&&c(a.get(tn)));break;case"set":Wt(e)&&c(a.get(Ft));break}}mn()}function Ut(e){const t=ae(e);return t===e?t:(Te(t,"iterate",us),qe(e)?t:t.map(Le))}function Os(e){return Te(e=ae(e),"iterate",us),e}const Fo={__proto__:null,[Symbol.iterator](){return Gs(this,Symbol.iterator,Le)},concat(...e){return Ut(this).concat(...e.map(t=>Y(t)?Ut(t):t))},entries(){return Gs(this,"entries",e=>(e[1]=Le(e[1]),e))},every(e,t){return ut(this,"every",e,t,void 0,arguments)},filter(e,t){return ut(this,"filter",e,t,s=>s.map(Le),arguments)},find(e,t){return ut(this,"find",e,t,Le,arguments)},findIndex(e,t){return ut(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ut(this,"findLast",e,t,Le,arguments)},findLastIndex(e,t){return ut(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ut(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ks(this,"includes",e)},indexOf(...e){return Ks(this,"indexOf",e)},join(e){return Ut(this).join(e)},lastIndexOf(...e){return Ks(this,"lastIndexOf",e)},map(e,t){return ut(this,"map",e,t,void 0,arguments)},pop(){return es(this,"pop")},push(...e){return es(this,"push",e)},reduce(e,...t){return An(this,"reduce",e,t)},reduceRight(e,...t){return An(this,"reduceRight",e,t)},shift(){return es(this,"shift")},some(e,t){return ut(this,"some",e,t,void 0,arguments)},splice(...e){return es(this,"splice",e)},toReversed(){return Ut(this).toReversed()},toSorted(e){return Ut(this).toSorted(e)},toSpliced(...e){return Ut(this).toSpliced(...e)},unshift(...e){return es(this,"unshift",e)},values(){return Gs(this,"values",Le)}};function Gs(e,t,s){const n=Os(e),r=n[t]();return n!==e&&!qe(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const jo=Array.prototype;function ut(e,t,s,n,r,i){const a=Os(e),c=a!==e&&!qe(e),h=a[t];if(h!==jo[t]){const x=h.apply(e,i);return c?Le(x):x}let $=s;a!==e&&(c?$=function(x,P){return s.call(this,Le(x),P,e)}:s.length>2&&($=function(x,P){return s.call(this,x,P,e)}));const v=h.call(a,$,n);return c&&r?r(v):v}function An(e,t,s,n){const r=Os(e);let i=s;return r!==e&&(qe(e)?s.length>3&&(i=function(a,c,h){return s.call(this,a,c,h,e)}):i=function(a,c,h){return s.call(this,a,Le(c),h,e)}),r[t](i,...n)}function Ks(e,t,s){const n=ae(e);Te(n,"iterate",us);const r=n[t](...s);return(r===-1||r===!1)&&wn(s[0])?(s[0]=ae(s[0]),n[t](...s)):r}function es(e,t,s=[]){St(),gn();const n=ae(e)[t].apply(e,s);return mn(),Tt(),n}const Oo=fn("__proto__,__v_isRef,__isVue"),wr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Io(e){Ct(e)||(e=String(e));const t=ae(this);return Te(t,"has",e),t.hasOwnProperty(e)}class xr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Ko:Lr:i?Tr:Sr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Y(t);if(!r){let h;if(a&&(h=Fo[s]))return h;if(s==="hasOwnProperty")return Io}const c=Reflect.get(t,s,Ee(t)?t:n);return(Ct(s)?wr.has(s):Oo(s))||(r||Te(t,"get",s),i)?c:Ee(c)?a&&pn(s)?c:c.value:be(c)?r?Er(c):bn(c):c}}class Cr extends xr{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const h=jt(i);if(!qe(n)&&!jt(n)&&(i=ae(i),n=ae(n)),!Y(t)&&Ee(i)&&!Ee(n))return h?!1:(i.value=n,!0)}const a=Y(t)&&pn(s)?Number(s)<t.length:ce(t,s),c=Reflect.set(t,s,n,Ee(t)?t:r);return t===ae(r)&&(a?wt(n,i)&&ht(t,"set",s,n):ht(t,"add",s,n)),c}deleteProperty(t,s){const n=ce(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&ht(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Ct(s)||!wr.has(s))&&Te(t,"has",s),n}ownKeys(t){return Te(t,"iterate",Y(t)?"length":Ft),Reflect.ownKeys(t)}}class Do extends xr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const No=new Cr,Ho=new Do,Uo=new Cr(!0);const sn=e=>e,vs=e=>Reflect.getPrototypeOf(e);function zo(e,t,s){return function(...n){const r=this.__v_raw,i=ae(r),a=Wt(i),c=e==="entries"||e===Symbol.iterator&&a,h=e==="keys"&&a,$=r[e](...n),v=s?sn:t?nn:Le;return!t&&Te(i,"iterate",h?tn:Ft),{next(){const{value:x,done:P}=$.next();return P?{value:x,done:P}:{value:c?[v(x[0]),v(x[1])]:v(x),done:P}},[Symbol.iterator](){return this}}}}function ys(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Bo(e,t){const s={get(r){const i=this.__v_raw,a=ae(i),c=ae(r);e||(wt(r,c)&&Te(a,"get",r),Te(a,"get",c));const{has:h}=vs(a),$=t?sn:e?nn:Le;if(h.call(a,r))return $(i.get(r));if(h.call(a,c))return $(i.get(c));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Te(ae(r),"iterate",Ft),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=ae(i),c=ae(r);return e||(wt(r,c)&&Te(a,"has",r),Te(a,"has",c)),r===c?i.has(r):i.has(r)||i.has(c)},forEach(r,i){const a=this,c=a.__v_raw,h=ae(c),$=t?sn:e?nn:Le;return!e&&Te(h,"iterate",Ft),c.forEach((v,x)=>r.call(i,$(v),$(x),a))}};return Oe(s,e?{add:ys("add"),set:ys("set"),delete:ys("delete"),clear:ys("clear")}:{add(r){!t&&!qe(r)&&!jt(r)&&(r=ae(r));const i=ae(this);return vs(i).has.call(i,r)||(i.add(r),ht(i,"add",r,r)),this},set(r,i){!t&&!qe(i)&&!jt(i)&&(i=ae(i));const a=ae(this),{has:c,get:h}=vs(a);let $=c.call(a,r);$||(r=ae(r),$=c.call(a,r));const v=h.call(a,r);return a.set(r,i),$?wt(i,v)&&ht(a,"set",r,i):ht(a,"add",r,i),this},delete(r){const i=ae(this),{has:a,get:c}=vs(i);let h=a.call(i,r);h||(r=ae(r),h=a.call(i,r)),c&&c.call(i,r);const $=i.delete(r);return h&&ht(i,"delete",r,void 0),$},clear(){const r=ae(this),i=r.size!==0,a=r.clear();return i&&ht(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=zo(r,e,t)}),s}function yn(e,t){const s=Bo(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ce(s,r)&&r in n?s:n,r,i)}const Wo={get:yn(!1,!1)},Vo={get:yn(!1,!0)},Go={get:yn(!0,!1)};const Sr=new WeakMap,Tr=new WeakMap,Lr=new WeakMap,Ko=new WeakMap;function Xo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qo(e){return e.__v_skip||!Object.isExtensible(e)?0:Xo(bo(e))}function bn(e){return jt(e)?e:$n(e,!1,No,Wo,Sr)}function Jo(e){return $n(e,!1,Uo,Vo,Tr)}function Er(e){return $n(e,!0,Ho,Go,Lr)}function $n(e,t,s,n,r){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const a=qo(e);if(a===0)return e;const c=new Proxy(e,a===2?n:s);return r.set(e,c),c}function Vt(e){return jt(e)?Vt(e.__v_raw):!!(e&&e.__v_isReactive)}function jt(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function wn(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function Yo(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&ur(e,"__v_skip",!0),e}const Le=e=>be(e)?bn(e):e,nn=e=>be(e)?Er(e):e;function Ee(e){return e?e.__v_isRef===!0:!1}function ue(e){return Zo(e,!1)}function Zo(e,t){return Ee(e)?e:new Qo(e,t)}class Qo{constructor(t,s){this.dep=new vn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:Le(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||qe(t)||jt(t);t=n?t:ae(t),wt(t,s)&&(this._rawValue=t,this._value=n?t:Le(t),this.dep.trigger())}}function ei(e){return Ee(e)?e.value:e}const ti={get:(e,t,s)=>t==="__v_raw"?e:ei(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Ee(r)&&!Ee(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Mr(e){return Vt(e)?e:new Proxy(e,ti)}class si{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new vn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return mr(this,!0),!0}get value(){const t=this.dep.track();return yr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ni(e,t,s=!1){let n,r;return te(e)?n=e:(n=e.get,r=e.set),new si(n,r,s)}const bs={},Ts=new WeakMap;let At;function ri(e,t=!1,s=At){if(s){let n=Ts.get(s);n||Ts.set(s,n=[]),n.push(e)}}function oi(e,t,s=ge){const{immediate:n,deep:r,once:i,scheduler:a,augmentJob:c,call:h}=s,$=G=>r?G:qe(G)||r===!1||r===0?$t(G,1):$t(G);let v,x,P,b,T=!1,z=!1;if(Ee(e)?(x=()=>e.value,T=qe(e)):Vt(e)?(x=()=>$(e),T=!0):Y(e)?(z=!0,T=e.some(G=>Vt(G)||qe(G)),x=()=>e.map(G=>{if(Ee(G))return G.value;if(Vt(G))return $(G);if(te(G))return h?h(G,2):G()})):te(e)?t?x=h?()=>h(e,2):e:x=()=>{if(P){St();try{P()}finally{Tt()}}const G=At;At=v;try{return h?h(e,3,[b]):e(b)}finally{At=G}}:x=it,t&&r){const G=x,de=r===!0?1/0:r;x=()=>$t(G(),de)}const Z=Po(),ie=()=>{v.stop(),Z&&Z.active&&hn(Z.effects,v)};if(i&&t){const G=t;t=(...de)=>{G(...de),ie()}}let se=z?new Array(e.length).fill(bs):bs;const me=G=>{if(!(!(v.flags&1)||!v.dirty&&!G))if(t){const de=v.run();if(r||T||(z?de.some((De,Ne)=>wt(De,se[Ne])):wt(de,se))){P&&P();const De=At;At=v;try{const Ne=[de,se===bs?void 0:z&&se[0]===bs?[]:se,b];h?h(t,3,Ne):t(...Ne),se=de}finally{At=De}}}else v.run()};return c&&c(me),v=new pr(x),v.scheduler=a?()=>a(me,!1):me,b=G=>ri(G,!1,v),P=v.onStop=()=>{const G=Ts.get(v);if(G){if(h)h(G,4);else for(const de of G)de();Ts.delete(v)}},t?n?me(!0):se=v.run():a?a(me.bind(null,!0),!0):v.run(),ie.pause=v.pause.bind(v),ie.resume=v.resume.bind(v),ie.stop=ie,ie}function $t(e,t=1/0,s){if(t<=0||!be(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ee(e))$t(e.value,t,s);else if(Y(e))for(let n=0;n<e.length;n++)$t(e[n],t,s);else if(or(e)||Wt(e))e.forEach(n=>{$t(n,t,s)});else if(ar(e)){for(const n in e)$t(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&$t(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ps(e,t,s,n){try{return n?e(...n):e()}catch(r){Is(r,t,s)}}function lt(e,t,s,n){if(te(e)){const r=ps(e,t,s,n);return r&&ir(r)&&r.catch(i=>{Is(i,t,s)}),r}if(Y(e)){const r=[];for(let i=0;i<e.length;i++)r.push(lt(e[i],t,s,n));return r}}function Is(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ge;if(t){let c=t.parent;const h=t.proxy,$=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const v=c.ec;if(v){for(let x=0;x<v.length;x++)if(v[x](e,h,$)===!1)return}c=c.parent}if(i){St(),ps(i,null,10,[e,h,$]),Tt();return}}ii(e,s,r,n,a)}function ii(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Re=[];let st=-1;const Gt=[];let yt=null,zt=0;const kr=Promise.resolve();let Ls=null;function Pe(e){const t=Ls||kr;return e?t.then(this?e.bind(this):e):t}function li(e){let t=st+1,s=Re.length;for(;t<s;){const n=t+s>>>1,r=Re[n],i=fs(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function xn(e){if(!(e.flags&1)){const t=fs(e),s=Re[Re.length-1];!s||!(e.flags&2)&&t>=fs(s)?Re.push(e):Re.splice(li(t),0,e),e.flags|=1,Pr()}}function Pr(){Ls||(Ls=kr.then(Rr))}function ai(e){Y(e)?Gt.push(...e):yt&&e.id===-1?yt.splice(zt+1,0,e):e.flags&1||(Gt.push(e),e.flags|=1),Pr()}function Rn(e,t,s=st+1){for(;s<Re.length;s++){const n=Re[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Re.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ar(e){if(Gt.length){const t=[...new Set(Gt)].sort((s,n)=>fs(s)-fs(n));if(Gt.length=0,yt){yt.push(...t);return}for(yt=t,zt=0;zt<yt.length;zt++){const s=yt[zt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}yt=null,zt=0}}const fs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Rr(e){try{for(st=0;st<Re.length;st++){const t=Re[st];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ps(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;st<Re.length;st++){const t=Re[st];t&&(t.flags&=-2)}st=-1,Re.length=0,Ar(),Ls=null,(Re.length||Gt.length)&&Rr()}}let ot=null,Fr=null;function Es(e){const t=ot;return ot=e,Fr=e&&e.type.__scopeId||null,t}function ci(e,t=ot,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&zn(-1);const i=Es(t);let a;try{a=e(...r)}finally{Es(i),n._d&&zn(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function kt(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let a=0;a<r.length;a++){const c=r[a];i&&(c.oldValue=i[a].value);let h=c.dir[n];h&&(St(),lt(h,s,8,[e.el,c,e,t]),Tt())}}const ui=Symbol("_vte"),fi=e=>e.__isTeleport;function Cn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ms(e,t,s,n,r=!1){if(Y(e)){e.forEach((T,z)=>Ms(T,t&&(Y(t)?t[z]:t),s,n,r));return}if(is(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ms(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?En(n.component):n.el,a=r?null:i,{i:c,r:h}=e,$=t&&t.r,v=c.refs===ge?c.refs={}:c.refs,x=c.setupState,P=ae(x),b=x===ge?()=>!1:T=>ce(P,T);if($!=null&&$!==h&&($e($)?(v[$]=null,b($)&&(x[$]=null)):Ee($)&&($.value=null)),te(h))ps(h,c,12,[a,v]);else{const T=$e(h),z=Ee(h);if(T||z){const Z=()=>{if(e.f){const ie=T?b(h)?x[h]:v[h]:h.value;r?Y(ie)&&hn(ie,i):Y(ie)?ie.includes(i)||ie.push(i):T?(v[h]=[i],b(h)&&(x[h]=v[h])):(h.value=[i],e.k&&(v[e.k]=h.value))}else T?(v[h]=a,b(h)&&(x[h]=a)):z&&(h.value=a,e.k&&(v[e.k]=a))};a?(Z.id=-1,Be(Z,s)):Z()}}}js().requestIdleCallback;js().cancelIdleCallback;const is=e=>!!e.type.__asyncLoader,Or=e=>e.type.__isKeepAlive;function di(e,t){Ir(e,"a",t)}function hi(e,t){Ir(e,"da",t)}function Ir(e,t,s=je){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ds(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Or(r.parent.vnode)&&pi(n,t,s,r),r=r.parent}}function pi(e,t,s,n){const r=Ds(t,e,n,!0);Dr(()=>{hn(n[t],r)},s)}function Ds(e,t,s=je,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...a)=>{St();const c=gs(s),h=lt(t,s,e,a);return c(),Tt(),h});return n?r.unshift(i):r.push(i),i}}const pt=e=>(t,s=je)=>{(!hs||e==="sp")&&Ds(e,(...n)=>t(...n),s)},gi=pt("bm"),Sn=pt("m"),mi=pt("bu"),_i=pt("u"),vi=pt("bum"),Dr=pt("um"),yi=pt("sp"),bi=pt("rtg"),$i=pt("rtc");function wi(e,t=je){Ds("ec",e,t)}const xi=Symbol.for("v-ndc");function Kt(e,t,s,n){let r;const i=s,a=Y(e);if(a||$e(e)){const c=a&&Vt(e);let h=!1;c&&(h=!qe(e),e=Os(e)),r=new Array(e.length);for(let $=0,v=e.length;$<v;$++)r[$]=t(h?Le(e[$]):e[$],$,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let c=0;c<e;c++)r[c]=t(c+1,c,void 0,i)}else if(be(e))if(e[Symbol.iterator])r=Array.from(e,(c,h)=>t(c,h,void 0,i));else{const c=Object.keys(e);r=new Array(c.length);for(let h=0,$=c.length;h<$;h++){const v=c[h];r[h]=t(e[v],v,h,i)}}else r=[];return r}const rn=e=>e?io(e)?En(e):rn(e.parent):null,ls=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rn(e.parent),$root:e=>rn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Hr(e),$forceUpdate:e=>e.f||(e.f=()=>{xn(e.update)}),$nextTick:e=>e.n||(e.n=Pe.bind(e.proxy)),$watch:e=>Vi.bind(e)}),Xs=(e,t)=>e!==ge&&!e.__isScriptSetup&&ce(e,t),Ci={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:a,type:c,appContext:h}=e;let $;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Xs(n,t))return a[t]=1,n[t];if(r!==ge&&ce(r,t))return a[t]=2,r[t];if(($=e.propsOptions[0])&&ce($,t))return a[t]=3,i[t];if(s!==ge&&ce(s,t))return a[t]=4,s[t];on&&(a[t]=0)}}const v=ls[t];let x,P;if(v)return t==="$attrs"&&Te(e.attrs,"get",""),v(e);if((x=c.__cssModules)&&(x=x[t]))return x;if(s!==ge&&ce(s,t))return a[t]=4,s[t];if(P=h.config.globalProperties,ce(P,t))return P[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Xs(r,t)?(r[t]=s,!0):n!==ge&&ce(n,t)?(n[t]=s,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},a){let c;return!!s[a]||e!==ge&&ce(e,a)||Xs(t,a)||(c=i[0])&&ce(c,a)||ce(n,a)||ce(ls,a)||ce(r.config.globalProperties,a)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Fn(e){return Y(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let on=!0;function Si(e){const t=Hr(e),s=e.proxy,n=e.ctx;on=!1,t.beforeCreate&&jn(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:a,watch:c,provide:h,inject:$,created:v,beforeMount:x,mounted:P,beforeUpdate:b,updated:T,activated:z,deactivated:Z,beforeDestroy:ie,beforeUnmount:se,destroyed:me,unmounted:G,render:de,renderTracked:De,renderTriggered:Ne,errorCaptured:we,serverPrefetch:_e,expose:He,inheritAttrs:Ye,components:V,directives:et,filters:Lt}=t;if($&&Ti($,n,null),a)for(const X in a){const le=a[X];te(le)&&(n[X]=le.bind(s))}if(r){const X=r.call(s,s);be(X)&&(e.data=bn(X))}if(on=!0,i)for(const X in i){const le=i[X],at=te(le)?le.bind(s,s):te(le.get)?le.get.bind(s,s):it,Et=!te(le)&&te(le.set)?le.set.bind(s):it,ze=nt({get:at,set:Et});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>ze.value,set:Ge=>ze.value=Ge})}if(c)for(const X in c)Nr(c[X],n,s,X);if(h){const X=te(h)?h.call(s):h;Reflect.ownKeys(X).forEach(le=>{Ai(le,X[le])})}v&&jn(v,e,"c");function he(X,le){Y(le)?le.forEach(at=>X(at.bind(s))):le&&X(le.bind(s))}if(he(gi,x),he(Sn,P),he(mi,b),he(_i,T),he(di,z),he(hi,Z),he(wi,we),he($i,De),he(bi,Ne),he(vi,se),he(Dr,G),he(yi,_e),Y(He))if(He.length){const X=e.exposed||(e.exposed={});He.forEach(le=>{Object.defineProperty(X,le,{get:()=>s[le],set:at=>s[le]=at})})}else e.exposed||(e.exposed={});de&&e.render===it&&(e.render=de),Ye!=null&&(e.inheritAttrs=Ye),V&&(e.components=V),et&&(e.directives=et),_e&&jr(e)}function Ti(e,t,s=it){Y(e)&&(e=ln(e));for(const n in e){const r=e[n];let i;be(r)?"default"in r?i=xs(r.from||n,r.default,!0):i=xs(r.from||n):i=xs(r),Ee(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function jn(e,t,s){lt(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Nr(e,t,s,n){let r=n.includes(".")?eo(s,n):()=>s[n];if($e(e)){const i=t[e];te(i)&&qt(r,i)}else if(te(e))qt(r,e.bind(s));else if(be(e))if(Y(e))e.forEach(i=>Nr(i,t,s,n));else{const i=te(e.handler)?e.handler.bind(s):t[e.handler];te(i)&&qt(r,i,e)}}function Hr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,c=i.get(t);let h;return c?h=c:!r.length&&!s&&!n?h=t:(h={},r.length&&r.forEach($=>ks(h,$,a,!0)),ks(h,t,a)),be(t)&&i.set(t,h),h}function ks(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&ks(e,i,s,!0),r&&r.forEach(a=>ks(e,a,s,!0));for(const a in t)if(!(n&&a==="expose")){const c=Li[a]||s&&s[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const Li={data:On,props:In,emits:In,methods:ss,computed:ss,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:ss,directives:ss,watch:Mi,provide:On,inject:Ei};function On(e,t){return t?e?function(){return Oe(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function Ei(e,t){return ss(ln(e),ln(t))}function ln(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ae(e,t){return e?[...new Set([].concat(e,t))]:t}function ss(e,t){return e?Oe(Object.create(null),e,t):t}function In(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Oe(Object.create(null),Fn(e),Fn(t??{})):t}function Mi(e,t){if(!e)return t;if(!t)return e;const s=Oe(Object.create(null),e);for(const n in t)s[n]=Ae(e[n],t[n]);return s}function Ur(){return{app:null,config:{isNativeTag:vo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ki=0;function Pi(e,t){return function(n,r=null){te(n)||(n=Oe({},n)),r!=null&&!be(r)&&(r=null);const i=Ur(),a=new WeakSet,c=[];let h=!1;const $=i.app={_uid:ki++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:dl,get config(){return i.config},set config(v){},use(v,...x){return a.has(v)||(v&&te(v.install)?(a.add(v),v.install($,...x)):te(v)&&(a.add(v),v($,...x))),$},mixin(v){return i.mixins.includes(v)||i.mixins.push(v),$},component(v,x){return x?(i.components[v]=x,$):i.components[v]},directive(v,x){return x?(i.directives[v]=x,$):i.directives[v]},mount(v,x,P){if(!h){const b=$._ceVNode||Je(n,r);return b.appContext=i,P===!0?P="svg":P===!1&&(P=void 0),e(b,v,P),h=!0,$._container=v,v.__vue_app__=$,En(b.component)}},onUnmount(v){c.push(v)},unmount(){h&&(lt(c,$._instance,16),e(null,$._container),delete $._container.__vue_app__)},provide(v,x){return i.provides[v]=x,$},runWithContext(v){const x=Xt;Xt=$;try{return v()}finally{Xt=x}}};return $}}let Xt=null;function Ai(e,t){if(je){let s=je.provides;const n=je.parent&&je.parent.provides;n===s&&(s=je.provides=Object.create(n)),s[e]=t}}function xs(e,t,s=!1){const n=je||ot;if(n||Xt){const r=Xt?Xt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&te(t)?t.call(n&&n.proxy):t}}const zr={},Br=()=>Object.create(zr),Wr=e=>Object.getPrototypeOf(e)===zr;function Ri(e,t,s,n=!1){const r={},i=Br();e.propsDefaults=Object.create(null),Vr(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=n?r:Jo(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Fi(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:a}}=e,c=ae(r),[h]=e.propsOptions;let $=!1;if((n||a>0)&&!(a&16)){if(a&8){const v=e.vnode.dynamicProps;for(let x=0;x<v.length;x++){let P=v[x];if(Ns(e.emitsOptions,P))continue;const b=t[P];if(h)if(ce(i,P))b!==i[P]&&(i[P]=b,$=!0);else{const T=xt(P);r[T]=an(h,c,T,b,e,!1)}else b!==i[P]&&(i[P]=b,$=!0)}}}else{Vr(e,t,r,i)&&($=!0);let v;for(const x in c)(!t||!ce(t,x)&&((v=It(x))===x||!ce(t,v)))&&(h?s&&(s[x]!==void 0||s[v]!==void 0)&&(r[x]=an(h,c,x,void 0,e,!0)):delete r[x]);if(i!==c)for(const x in i)(!t||!ce(t,x))&&(delete i[x],$=!0)}$&&ht(e.attrs,"set","")}function Vr(e,t,s,n){const[r,i]=e.propsOptions;let a=!1,c;if(t)for(let h in t){if(ns(h))continue;const $=t[h];let v;r&&ce(r,v=xt(h))?!i||!i.includes(v)?s[v]=$:(c||(c={}))[v]=$:Ns(e.emitsOptions,h)||(!(h in n)||$!==n[h])&&(n[h]=$,a=!0)}if(i){const h=ae(s),$=c||ge;for(let v=0;v<i.length;v++){const x=i[v];s[x]=an(r,h,x,$[x],e,!ce($,x))}}return a}function an(e,t,s,n,r,i){const a=e[s];if(a!=null){const c=ce(a,"default");if(c&&n===void 0){const h=a.default;if(a.type!==Function&&!a.skipFactory&&te(h)){const{propsDefaults:$}=r;if(s in $)n=$[s];else{const v=gs(r);n=$[s]=h.call(null,t),v()}}else n=h;r.ce&&r.ce._setProp(s,n)}a[0]&&(i&&!c?n=!1:a[1]&&(n===""||n===It(s))&&(n=!0))}return n}const ji=new WeakMap;function Gr(e,t,s=!1){const n=s?ji:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,a={},c=[];let h=!1;if(!te(e)){const v=x=>{h=!0;const[P,b]=Gr(x,t,!0);Oe(a,P),b&&c.push(...b)};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!i&&!h)return be(e)&&n.set(e,Bt),Bt;if(Y(i))for(let v=0;v<i.length;v++){const x=xt(i[v]);Dn(x)&&(a[x]=ge)}else if(i)for(const v in i){const x=xt(v);if(Dn(x)){const P=i[v],b=a[x]=Y(P)||te(P)?{type:P}:Oe({},P),T=b.type;let z=!1,Z=!0;if(Y(T))for(let ie=0;ie<T.length;++ie){const se=T[ie],me=te(se)&&se.name;if(me==="Boolean"){z=!0;break}else me==="String"&&(Z=!1)}else z=te(T)&&T.name==="Boolean";b[0]=z,b[1]=Z,(z||ce(b,"default"))&&c.push(x)}}const $=[a,c];return be(e)&&n.set(e,$),$}function Dn(e){return e[0]!=="$"&&!ns(e)}const Kr=e=>e[0]==="_"||e==="$stable",Tn=e=>Y(e)?e.map(rt):[rt(e)],Oi=(e,t,s)=>{if(t._n)return t;const n=ci((...r)=>Tn(t(...r)),s);return n._c=!1,n},Xr=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Kr(r))continue;const i=e[r];if(te(i))t[r]=Oi(r,i,n);else if(i!=null){const a=Tn(i);t[r]=()=>a}}},qr=(e,t)=>{const s=Tn(t);e.slots.default=()=>s},Jr=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},Ii=(e,t,s)=>{const n=e.slots=Br();if(e.vnode.shapeFlag&32){const r=t._;r?(Jr(n,t,s),s&&ur(n,"_",r,!0)):Xr(t,n)}else t&&qr(e,t)},Di=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,a=ge;if(n.shapeFlag&32){const c=t._;c?s&&c===1?i=!1:Jr(r,t,s):(i=!t.$stable,Xr(t,r)),a=t}else t&&(qr(e,t),a={default:1});if(i)for(const c in r)!Kr(c)&&a[c]==null&&delete r[c]},Be=Zi;function Ni(e){return Hi(e)}function Hi(e,t){const s=js();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:a,createText:c,createComment:h,setText:$,setElementText:v,parentNode:x,nextSibling:P,setScopeId:b=it,insertStaticContent:T}=e,z=(u,g,w,M=null,S=null,L=null,O=void 0,j=null,F=!!g.dynamicChildren)=>{if(u===g)return;u&&!ts(u,g)&&(M=Nt(u),Ge(u,S,L,!0),u=null),g.patchFlag===-2&&(F=!1,g.dynamicChildren=null);const{type:k,ref:K,shapeFlag:H}=g;switch(k){case Hs:Z(u,g,w,M);break;case Ot:ie(u,g,w,M);break;case Js:u==null&&se(g,w,M,O);break;case Fe:V(u,g,w,M,S,L,O,j,F);break;default:H&1?de(u,g,w,M,S,L,O,j,F):H&6?et(u,g,w,M,S,L,O,j,F):(H&64||H&128)&&k.process(u,g,w,M,S,L,O,j,F,gt)}K!=null&&S&&Ms(K,u&&u.ref,L,g||u,!g)},Z=(u,g,w,M)=>{if(u==null)n(g.el=c(g.children),w,M);else{const S=g.el=u.el;g.children!==u.children&&$(S,g.children)}},ie=(u,g,w,M)=>{u==null?n(g.el=h(g.children||""),w,M):g.el=u.el},se=(u,g,w,M)=>{[u.el,u.anchor]=T(u.children,g,w,M,u.el,u.anchor)},me=({el:u,anchor:g},w,M)=>{let S;for(;u&&u!==g;)S=P(u),n(u,w,M),u=S;n(g,w,M)},G=({el:u,anchor:g})=>{let w;for(;u&&u!==g;)w=P(u),r(u),u=w;r(g)},de=(u,g,w,M,S,L,O,j,F)=>{g.type==="svg"?O="svg":g.type==="math"&&(O="mathml"),u==null?De(g,w,M,S,L,O,j,F):_e(u,g,S,L,O,j,F)},De=(u,g,w,M,S,L,O,j)=>{let F,k;const{props:K,shapeFlag:H,transition:W,dirs:q}=u;if(F=u.el=a(u.type,L,K&&K.is,K),H&8?v(F,u.children):H&16&&we(u.children,F,null,M,S,qs(u,L),O,j),q&&kt(u,null,M,"created"),Ne(F,u,u.scopeId,O,M),K){for(const oe in K)oe!=="value"&&!ns(oe)&&i(F,oe,null,K[oe],L,M);"value"in K&&i(F,"value",null,K.value,L),(k=K.onVnodeBeforeMount)&&tt(k,M,u)}q&&kt(u,null,M,"beforeMount");const ne=Ui(S,W);ne&&W.beforeEnter(F),n(F,g,w),((k=K&&K.onVnodeMounted)||ne||q)&&Be(()=>{k&&tt(k,M,u),ne&&W.enter(F),q&&kt(u,null,M,"mounted")},S)},Ne=(u,g,w,M,S)=>{if(w&&b(u,w),M)for(let L=0;L<M.length;L++)b(u,M[L]);if(S){let L=S.subTree;if(g===L||so(L.type)&&(L.ssContent===g||L.ssFallback===g)){const O=S.vnode;Ne(u,O,O.scopeId,O.slotScopeIds,S.parent)}}},we=(u,g,w,M,S,L,O,j,F=0)=>{for(let k=F;k<u.length;k++){const K=u[k]=j?bt(u[k]):rt(u[k]);z(null,K,g,w,M,S,L,O,j)}},_e=(u,g,w,M,S,L,O)=>{const j=g.el=u.el;let{patchFlag:F,dynamicChildren:k,dirs:K}=g;F|=u.patchFlag&16;const H=u.props||ge,W=g.props||ge;let q;if(w&&Pt(w,!1),(q=W.onVnodeBeforeUpdate)&&tt(q,w,g,u),K&&kt(g,u,w,"beforeUpdate"),w&&Pt(w,!0),(H.innerHTML&&W.innerHTML==null||H.textContent&&W.textContent==null)&&v(j,""),k?He(u.dynamicChildren,k,j,w,M,qs(g,S),L):O||le(u,g,j,null,w,M,qs(g,S),L,!1),F>0){if(F&16)Ye(j,H,W,w,S);else if(F&2&&H.class!==W.class&&i(j,"class",null,W.class,S),F&4&&i(j,"style",H.style,W.style,S),F&8){const ne=g.dynamicProps;for(let oe=0;oe<ne.length;oe++){const Q=ne[oe],Me=H[Q],Ce=W[Q];(Ce!==Me||Q==="value")&&i(j,Q,Me,Ce,S,w)}}F&1&&u.children!==g.children&&v(j,g.children)}else!O&&k==null&&Ye(j,H,W,w,S);((q=W.onVnodeUpdated)||K)&&Be(()=>{q&&tt(q,w,g,u),K&&kt(g,u,w,"updated")},M)},He=(u,g,w,M,S,L,O)=>{for(let j=0;j<g.length;j++){const F=u[j],k=g[j],K=F.el&&(F.type===Fe||!ts(F,k)||F.shapeFlag&70)?x(F.el):w;z(F,k,K,null,M,S,L,O,!0)}},Ye=(u,g,w,M,S)=>{if(g!==w){if(g!==ge)for(const L in g)!ns(L)&&!(L in w)&&i(u,L,g[L],null,S,M);for(const L in w){if(ns(L))continue;const O=w[L],j=g[L];O!==j&&L!=="value"&&i(u,L,j,O,S,M)}"value"in w&&i(u,"value",g.value,w.value,S)}},V=(u,g,w,M,S,L,O,j,F)=>{const k=g.el=u?u.el:c(""),K=g.anchor=u?u.anchor:c("");let{patchFlag:H,dynamicChildren:W,slotScopeIds:q}=g;q&&(j=j?j.concat(q):q),u==null?(n(k,w,M),n(K,w,M),we(g.children||[],w,K,S,L,O,j,F)):H>0&&H&64&&W&&u.dynamicChildren?(He(u.dynamicChildren,W,w,S,L,O,j),(g.key!=null||S&&g===S.subTree)&&Yr(u,g,!0)):le(u,g,w,K,S,L,O,j,F)},et=(u,g,w,M,S,L,O,j,F)=>{g.slotScopeIds=j,u==null?g.shapeFlag&512?S.ctx.activate(g,w,M,O,F):Lt(g,w,M,S,L,O,F):Ue(u,g,F)},Lt=(u,g,w,M,S,L,O)=>{const j=u.component=il(u,M,S);if(Or(u)&&(j.ctx.renderer=gt),ll(j,!1,O),j.asyncDep){if(S&&S.registerDep(j,he,O),!u.el){const F=j.subTree=Je(Ot);ie(null,F,g,w)}}else he(j,u,g,w,S,L,O)},Ue=(u,g,w)=>{const M=g.component=u.component;if(Ji(u,g,w))if(M.asyncDep&&!M.asyncResolved){X(M,g,w);return}else M.next=g,M.update();else g.el=u.el,M.vnode=g},he=(u,g,w,M,S,L,O)=>{const j=()=>{if(u.isMounted){let{next:H,bu:W,u:q,parent:ne,vnode:oe}=u;{const Ke=Zr(u);if(Ke){H&&(H.el=oe.el,X(u,H,O)),Ke.asyncDep.then(()=>{u.isUnmounted||j()});return}}let Q=H,Me;Pt(u,!1),H?(H.el=oe.el,X(u,H,O)):H=oe,W&&Bs(W),(Me=H.props&&H.props.onVnodeBeforeUpdate)&&tt(Me,ne,H,oe),Pt(u,!0);const Ce=Hn(u),Ie=u.subTree;u.subTree=Ce,z(Ie,Ce,x(Ie.el),Nt(Ie),u,S,L),H.el=Ce.el,Q===null&&Yi(u,Ce.el),q&&Be(q,S),(Me=H.props&&H.props.onVnodeUpdated)&&Be(()=>tt(Me,ne,H,oe),S)}else{let H;const{el:W,props:q}=g,{bm:ne,m:oe,parent:Q,root:Me,type:Ce}=u,Ie=is(g);Pt(u,!1),ne&&Bs(ne),!Ie&&(H=q&&q.onVnodeBeforeMount)&&tt(H,Q,g),Pt(u,!0);{Me.ce&&Me.ce._injectChildStyle(Ce);const Ke=u.subTree=Hn(u);z(null,Ke,w,M,u,S,L),g.el=Ke.el}if(oe&&Be(oe,S),!Ie&&(H=q&&q.onVnodeMounted)){const Ke=g;Be(()=>tt(H,Q,Ke),S)}(g.shapeFlag&256||Q&&is(Q.vnode)&&Q.vnode.shapeFlag&256)&&u.a&&Be(u.a,S),u.isMounted=!0,g=w=M=null}};u.scope.on();const F=u.effect=new pr(j);u.scope.off();const k=u.update=F.run.bind(F),K=u.job=F.runIfDirty.bind(F);K.i=u,K.id=u.uid,F.scheduler=()=>xn(K),Pt(u,!0),k()},X=(u,g,w)=>{g.component=u;const M=u.vnode.props;u.vnode=g,u.next=null,Fi(u,g.props,M,w),Di(u,g.children,w),St(),Rn(u),Tt()},le=(u,g,w,M,S,L,O,j,F=!1)=>{const k=u&&u.children,K=u?u.shapeFlag:0,H=g.children,{patchFlag:W,shapeFlag:q}=g;if(W>0){if(W&128){Et(k,H,w,M,S,L,O,j,F);return}else if(W&256){at(k,H,w,M,S,L,O,j,F);return}}q&8?(K&16&&Mt(k,S,L),H!==k&&v(w,H)):K&16?q&16?Et(k,H,w,M,S,L,O,j,F):Mt(k,S,L,!0):(K&8&&v(w,""),q&16&&we(H,w,M,S,L,O,j,F))},at=(u,g,w,M,S,L,O,j,F)=>{u=u||Bt,g=g||Bt;const k=u.length,K=g.length,H=Math.min(k,K);let W;for(W=0;W<H;W++){const q=g[W]=F?bt(g[W]):rt(g[W]);z(u[W],q,w,null,S,L,O,j,F)}k>K?Mt(u,S,L,!0,!1,H):we(g,w,M,S,L,O,j,F,H)},Et=(u,g,w,M,S,L,O,j,F)=>{let k=0;const K=g.length;let H=u.length-1,W=K-1;for(;k<=H&&k<=W;){const q=u[k],ne=g[k]=F?bt(g[k]):rt(g[k]);if(ts(q,ne))z(q,ne,w,null,S,L,O,j,F);else break;k++}for(;k<=H&&k<=W;){const q=u[H],ne=g[W]=F?bt(g[W]):rt(g[W]);if(ts(q,ne))z(q,ne,w,null,S,L,O,j,F);else break;H--,W--}if(k>H){if(k<=W){const q=W+1,ne=q<K?g[q].el:M;for(;k<=W;)z(null,g[k]=F?bt(g[k]):rt(g[k]),w,ne,S,L,O,j,F),k++}}else if(k>W)for(;k<=H;)Ge(u[k],S,L,!0),k++;else{const q=k,ne=k,oe=new Map;for(k=ne;k<=W;k++){const ke=g[k]=F?bt(g[k]):rt(g[k]);ke.key!=null&&oe.set(ke.key,k)}let Q,Me=0;const Ce=W-ne+1;let Ie=!1,Ke=0;const mt=new Array(Ce);for(k=0;k<Ce;k++)mt[k]=0;for(k=q;k<=H;k++){const ke=u[k];if(Me>=Ce){Ge(ke,S,L,!0);continue}let Xe;if(ke.key!=null)Xe=oe.get(ke.key);else for(Q=ne;Q<=W;Q++)if(mt[Q-ne]===0&&ts(ke,g[Q])){Xe=Q;break}Xe===void 0?Ge(ke,S,L,!0):(mt[Xe-ne]=k+1,Xe>=Ke?Ke=Xe:Ie=!0,z(ke,g[Xe],w,null,S,L,O,j,F),Me++)}const ms=Ie?zi(mt):Bt;for(Q=ms.length-1,k=Ce-1;k>=0;k--){const ke=ne+k,Xe=g[ke],_s=ke+1<K?g[ke+1].el:M;mt[k]===0?z(null,Xe,w,_s,S,L,O,j,F):Ie&&(Q<0||k!==ms[Q]?ze(Xe,w,_s,2):Q--)}}},ze=(u,g,w,M,S=null)=>{const{el:L,type:O,transition:j,children:F,shapeFlag:k}=u;if(k&6){ze(u.component.subTree,g,w,M);return}if(k&128){u.suspense.move(g,w,M);return}if(k&64){O.move(u,g,w,gt);return}if(O===Fe){n(L,g,w);for(let H=0;H<F.length;H++)ze(F[H],g,w,M);n(u.anchor,g,w);return}if(O===Js){me(u,g,w);return}if(M!==2&&k&1&&j)if(M===0)j.beforeEnter(L),n(L,g,w),Be(()=>j.enter(L),S);else{const{leave:H,delayLeave:W,afterLeave:q}=j,ne=()=>n(L,g,w),oe=()=>{H(L,()=>{ne(),q&&q()})};W?W(L,ne,oe):oe()}else n(L,g,w)},Ge=(u,g,w,M=!1,S=!1)=>{const{type:L,props:O,ref:j,children:F,dynamicChildren:k,shapeFlag:K,patchFlag:H,dirs:W,cacheIndex:q}=u;if(H===-2&&(S=!1),j!=null&&Ms(j,null,w,u,!0),q!=null&&(g.renderCache[q]=void 0),K&256){g.ctx.deactivate(u);return}const ne=K&1&&W,oe=!is(u);let Q;if(oe&&(Q=O&&O.onVnodeBeforeUnmount)&&tt(Q,g,u),K&6)Us(u.component,w,M);else{if(K&128){u.suspense.unmount(w,M);return}ne&&kt(u,null,g,"beforeUnmount"),K&64?u.type.remove(u,g,w,gt,M):k&&!k.hasOnce&&(L!==Fe||H>0&&H&64)?Mt(k,g,w,!1,!0):(L===Fe&&H&384||!S&&K&16)&&Mt(F,g,w),M&&ct(u)}(oe&&(Q=O&&O.onVnodeUnmounted)||ne)&&Be(()=>{Q&&tt(Q,g,u),ne&&kt(u,null,g,"unmounted")},w)},ct=u=>{const{type:g,el:w,anchor:M,transition:S}=u;if(g===Fe){Dt(w,M);return}if(g===Js){G(u);return}const L=()=>{r(w),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(u.shapeFlag&1&&S&&!S.persisted){const{leave:O,delayLeave:j}=S,F=()=>O(w,L);j?j(u.el,L,F):F()}else L()},Dt=(u,g)=>{let w;for(;u!==g;)w=P(u),r(u),u=w;r(g)},Us=(u,g,w)=>{const{bum:M,scope:S,job:L,subTree:O,um:j,m:F,a:k}=u;Nn(F),Nn(k),M&&Bs(M),S.stop(),L&&(L.flags|=8,Ge(O,u,g,w)),j&&Be(j,g),Be(()=>{u.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Mt=(u,g,w,M=!1,S=!1,L=0)=>{for(let O=L;O<u.length;O++)Ge(u[O],g,w,M,S)},Nt=u=>{if(u.shapeFlag&6)return Nt(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const g=P(u.anchor||u.el),w=g&&g[ui];return w?P(w):g};let Yt=!1;const Zt=(u,g,w)=>{u==null?g._vnode&&Ge(g._vnode,null,null,!0):z(g._vnode||null,u,g,null,null,null,w),g._vnode=u,Yt||(Yt=!0,Rn(),Ar(),Yt=!1)},gt={p:z,um:Ge,m:ze,r:ct,mt:Lt,mc:we,pc:le,pbc:He,n:Nt,o:e};return{render:Zt,hydrate:void 0,createApp:Pi(Zt)}}function qs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Pt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ui(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Yr(e,t,s=!1){const n=e.children,r=t.children;if(Y(n)&&Y(r))for(let i=0;i<n.length;i++){const a=n[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=bt(r[i]),c.el=a.el),!s&&c.patchFlag!==-2&&Yr(a,c)),c.type===Hs&&(c.el=a.el)}}function zi(e){const t=e.slice(),s=[0];let n,r,i,a,c;const h=e.length;for(n=0;n<h;n++){const $=e[n];if($!==0){if(r=s[s.length-1],e[r]<$){t[n]=r,s.push(n);continue}for(i=0,a=s.length-1;i<a;)c=i+a>>1,e[s[c]]<$?i=c+1:a=c;$<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=t[a];return s}function Zr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Zr(t)}function Nn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bi=Symbol.for("v-scx"),Wi=()=>xs(Bi);function qt(e,t,s){return Qr(e,t,s)}function Qr(e,t,s=ge){const{immediate:n,deep:r,flush:i,once:a}=s,c=Oe({},s),h=t&&n||!t&&i!=="post";let $;if(hs){if(i==="sync"){const b=Wi();$=b.__watcherHandles||(b.__watcherHandles=[])}else if(!h){const b=()=>{};return b.stop=it,b.resume=it,b.pause=it,b}}const v=je;c.call=(b,T,z)=>lt(b,v,T,z);let x=!1;i==="post"?c.scheduler=b=>{Be(b,v&&v.suspense)}:i!=="sync"&&(x=!0,c.scheduler=(b,T)=>{T?b():xn(b)}),c.augmentJob=b=>{t&&(b.flags|=4),x&&(b.flags|=2,v&&(b.id=v.uid,b.i=v))};const P=oi(e,t,c);return hs&&($?$.push(P):h&&P()),P}function Vi(e,t,s){const n=this.proxy,r=$e(e)?e.includes(".")?eo(n,e):()=>n[e]:e.bind(n,n);let i;te(t)?i=t:(i=t.handler,s=t);const a=gs(this),c=Qr(r,i.bind(n),s);return a(),c}function eo(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Gi=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xt(t)}Modifiers`]||e[`${It(t)}Modifiers`];function Ki(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ge;let r=s;const i=t.startsWith("update:"),a=i&&Gi(n,t.slice(7));a&&(a.trim&&(r=s.map(v=>$e(v)?v.trim():v)),a.number&&(r=s.map(xo)));let c,h=n[c=zs(t)]||n[c=zs(xt(t))];!h&&i&&(h=n[c=zs(It(t))]),h&&lt(h,e,6,r);const $=n[c+"Once"];if($){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,lt($,e,6,r)}}function to(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let a={},c=!1;if(!te(e)){const h=$=>{const v=to($,t,!0);v&&(c=!0,Oe(a,v))};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!i&&!c?(be(e)&&n.set(e,null),null):(Y(i)?i.forEach(h=>a[h]=null):Oe(a,i),be(e)&&n.set(e,a),a)}function Ns(e,t){return!e||!As(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,It(t))||ce(e,t))}function Hn(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:a,attrs:c,emit:h,render:$,renderCache:v,props:x,data:P,setupState:b,ctx:T,inheritAttrs:z}=e,Z=Es(e);let ie,se;try{if(s.shapeFlag&4){const G=r||n,de=G;ie=rt($.call(de,G,v,x,b,P,T)),se=c}else{const G=t;ie=rt(G.length>1?G(x,{attrs:c,slots:a,emit:h}):G(x,null)),se=t.props?c:Xi(c)}}catch(G){as.length=0,Is(G,e,1),ie=Je(Ot)}let me=ie;if(se&&z!==!1){const G=Object.keys(se),{shapeFlag:de}=me;G.length&&de&7&&(i&&G.some(dn)&&(se=qi(se,i)),me=Jt(me,se,!1,!0))}return s.dirs&&(me=Jt(me,null,!1,!0),me.dirs=me.dirs?me.dirs.concat(s.dirs):s.dirs),s.transition&&Cn(me,s.transition),ie=me,Es(Z),ie}const Xi=e=>{let t;for(const s in e)(s==="class"||s==="style"||As(s))&&((t||(t={}))[s]=e[s]);return t},qi=(e,t)=>{const s={};for(const n in e)(!dn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Ji(e,t,s){const{props:n,children:r,component:i}=e,{props:a,children:c,patchFlag:h}=t,$=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&h>=0){if(h&1024)return!0;if(h&16)return n?Un(n,a,$):!!a;if(h&8){const v=t.dynamicProps;for(let x=0;x<v.length;x++){const P=v[x];if(a[P]!==n[P]&&!Ns($,P))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?Un(n,a,$):!0:!!a;return!1}function Un(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!Ns(s,i))return!0}return!1}function Yi({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const so=e=>e.__isSuspense;function Zi(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):ai(e)}const Fe=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Js=Symbol.for("v-stc"),as=[];let Ve=null;function J(e=!1){as.push(Ve=e?null:[])}function Qi(){as.pop(),Ve=as[as.length-1]||null}let ds=1;function zn(e,t=!1){ds+=e,e<0&&Ve&&t&&(Ve.hasOnce=!0)}function no(e){return e.dynamicChildren=ds>0?Ve||Bt:null,Qi(),ds>0&&Ve&&Ve.push(e),e}function ee(e,t,s,n,r,i){return no(U(e,t,s,n,r,i,!0))}function el(e,t,s,n,r){return no(Je(e,t,s,n,r,!0))}function ro(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const oo=({key:e})=>e??null,Cs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?$e(e)||Ee(e)||te(e)?{i:ot,r:e,k:t,f:!!s}:e:null);function U(e,t=null,s=null,n=0,r=null,i=e===Fe?0:1,a=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oo(t),ref:t&&Cs(t),scopeId:Fr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ot};return c?(Ln(h,s),i&128&&e.normalize(h)):s&&(h.shapeFlag|=$e(s)?8:16),ds>0&&!a&&Ve&&(h.patchFlag>0||i&6)&&h.patchFlag!==32&&Ve.push(h),h}const Je=tl;function tl(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===xi)&&(e=Ot),ro(e)){const c=Jt(e,t,!0);return s&&Ln(c,s),ds>0&&!i&&Ve&&(c.shapeFlag&6?Ve[Ve.indexOf(e)]=c:Ve.push(c)),c.patchFlag=-2,c}if(fl(e)&&(e=e.__vccOpts),t){t=sl(t);let{class:c,style:h}=t;c&&!$e(c)&&(t.class=Ze(c)),be(h)&&(wn(h)&&!Y(h)&&(h=Oe({},h)),t.style=Rt(h))}const a=$e(e)?1:so(e)?128:fi(e)?64:be(e)?4:te(e)?2:0;return U(e,t,s,n,r,a,i,!0)}function sl(e){return e?wn(e)||Wr(e)?Oe({},e):e:null}function Jt(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:a,children:c,transition:h}=e,$=t?nl(r||{},t):r,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:$,key:$&&oo($),ref:t&&t.ref?s&&i?Y(i)?i.concat(Cs(t)):[i,Cs(t)]:Cs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&n&&Cn(v,h.clone(v)),v}function ft(e=" ",t=0){return Je(Hs,null,e,t)}function Se(e="",t=!1){return t?(J(),el(Ot,null,e)):Je(Ot,null,e)}function rt(e){return e==null||typeof e=="boolean"?Je(Ot):Y(e)?Je(Fe,null,e.slice()):ro(e)?bt(e):Je(Hs,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function Ln(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Ln(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Wr(t)?t._ctx=ot:r===3&&ot&&(ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:ot},s=32):(t=String(t),n&64?(s=16,t=[ft(t)]):s=8);e.children=t,e.shapeFlag|=s}function nl(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Ze([t.class,n.class]));else if(r==="style")t.style=Rt([t.style,n.style]);else if(As(r)){const i=t[r],a=n[r];a&&i!==a&&!(Y(i)&&i.includes(a))&&(t[r]=i?[].concat(i,a):a)}else r!==""&&(t[r]=n[r])}return t}function tt(e,t,s,n=null){lt(e,t,7,[s,n])}const rl=Ur();let ol=0;function il(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||rl,i={uid:ol++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ko(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gr(n,r),emitsOptions:to(n,r),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:n.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ki.bind(null,i),e.ce&&e.ce(i),i}let je=null,Ps,cn;{const e=js(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Ps=t("__VUE_INSTANCE_SETTERS__",s=>je=s),cn=t("__VUE_SSR_SETTERS__",s=>hs=s)}const gs=e=>{const t=je;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},Bn=()=>{je&&je.scope.off(),Ps(null)};function io(e){return e.vnode.shapeFlag&4}let hs=!1;function ll(e,t=!1,s=!1){t&&cn(t);const{props:n,children:r}=e.vnode,i=io(e);Ri(e,n,i,t),Ii(e,r,s);const a=i?al(e,t):void 0;return t&&cn(!1),a}function al(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ci);const{setup:n}=s;if(n){St();const r=e.setupContext=n.length>1?ul(e):null,i=gs(e),a=ps(n,e,0,[e.props,r]),c=ir(a);if(Tt(),i(),(c||e.sp)&&!is(e)&&jr(e),c){if(a.then(Bn,Bn),t)return a.then(h=>{Wn(e,h)}).catch(h=>{Is(h,e,0)});e.asyncDep=a}else Wn(e,a)}else lo(e)}function Wn(e,t,s){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=Mr(t)),lo(e)}function lo(e,t,s){const n=e.type;e.render||(e.render=n.render||it);{const r=gs(e);St();try{Si(e)}finally{Tt(),r()}}}const cl={get(e,t){return Te(e,"get",""),e[t]}};function ul(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,cl),slots:e.slots,emit:e.emit,expose:t}}function En(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mr(Yo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ls)return ls[s](e)},has(t,s){return s in t||s in ls}})):e.proxy}function fl(e){return te(e)&&"__vccOpts"in e}const nt=(e,t)=>ni(e,t,hs),dl="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let un;const Vn=typeof window<"u"&&window.trustedTypes;if(Vn)try{un=Vn.createPolicy("vue",{createHTML:e=>e})}catch{}const ao=un?e=>un.createHTML(e):e=>e,hl="http://www.w3.org/2000/svg",pl="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,Gn=dt&&dt.createElement("template"),gl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?dt.createElementNS(hl,e):t==="mathml"?dt.createElementNS(pl,e):s?dt.createElement(e,{is:s}):dt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>dt.createTextNode(e),createComment:e=>dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const a=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Gn.innerHTML=ao(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const c=Gn.content;if(n==="svg"||n==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}t.insertBefore(c,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ml=Symbol("_vtc");function _l(e,t,s){const n=e[ml];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Kn=Symbol("_vod"),vl=Symbol("_vsh"),yl=Symbol(""),bl=/(^|;)\s*display\s*:/;function $l(e,t,s){const n=e.style,r=$e(s);let i=!1;if(s&&!r){if(t)if($e(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();s[c]==null&&Ss(n,c,"")}else for(const a in t)s[a]==null&&Ss(n,a,"");for(const a in s)a==="display"&&(i=!0),Ss(n,a,s[a])}else if(r){if(t!==s){const a=n[yl];a&&(s+=";"+a),n.cssText=s,i=bl.test(s)}}else t&&e.removeAttribute("style");Kn in e&&(e[Kn]=i?n.display:"",e[vl]&&(n.display="none"))}const Xn=/\s*!important$/;function Ss(e,t,s){if(Y(s))s.forEach(n=>Ss(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=wl(e,t);Xn.test(s)?e.setProperty(It(n),s.replace(Xn,""),"important"):e[n]=s}}const qn=["Webkit","Moz","ms"],Ys={};function wl(e,t){const s=Ys[t];if(s)return s;let n=xt(t);if(n!=="filter"&&n in e)return Ys[t]=n;n=cr(n);for(let r=0;r<qn.length;r++){const i=qn[r]+n;if(i in e)return Ys[t]=i}return t}const Jn="http://www.w3.org/1999/xlink";function Yn(e,t,s,n,r,i=Mo(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Jn,t.slice(6,t.length)):e.setAttributeNS(Jn,t,s):s==null||i&&!fr(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Ct(s)?String(s):s)}function Zn(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ao(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?e.getAttribute("value")||"":e.value,h=s==null?e.type==="checkbox"?"on":"":String(s);(c!==h||!("_value"in e))&&(e.value=h),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=fr(s):s==null&&c==="string"?(s="",a=!0):c==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function xl(e,t,s,n){e.addEventListener(t,s,n)}function Cl(e,t,s,n){e.removeEventListener(t,s,n)}const Qn=Symbol("_vei");function Sl(e,t,s,n,r=null){const i=e[Qn]||(e[Qn]={}),a=i[t];if(n&&a)a.value=n;else{const[c,h]=Tl(t);if(n){const $=i[t]=Ml(n,r);xl(e,c,$,h)}else a&&(Cl(e,c,a,h),i[t]=void 0)}}const er=/(?:Once|Passive|Capture)$/;function Tl(e){let t;if(er.test(e)){t={};let n;for(;n=e.match(er);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):It(e.slice(2)),t]}let Zs=0;const Ll=Promise.resolve(),El=()=>Zs||(Ll.then(()=>Zs=0),Zs=Date.now());function Ml(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;lt(kl(n,s.value),t,5,[n])};return s.value=e,s.attached=El(),s}function kl(e,t){if(Y(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const tr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Pl=(e,t,s,n,r,i)=>{const a=r==="svg";t==="class"?_l(e,n,a):t==="style"?$l(e,s,n):As(t)?dn(t)||Sl(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Al(e,t,n,a))?(Zn(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yn(e,t,n,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$e(n))?Zn(e,xt(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Yn(e,t,n,a))};function Al(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&tr(t)&&te(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return tr(t)&&$e(s)?!1:t in e}const Rl=["ctrl","shift","alt","meta"],Fl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rl.some(s=>e[`${s}Key`]&&!t.includes(s))},jl=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...i)=>{for(let a=0;a<t.length;a++){const c=Fl[t[a]];if(c&&c(r,t))return}return e(r,...i)})},Ol=Oe({patchProp:Pl},gl);let sr;function Il(){return sr||(sr=Ni(Ol))}const Dl=(...e)=>{const t=Il().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Hl(n);if(!r)return;const i=t._component;!te(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Nl(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function Nl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Hl(e){return $e(e)?document.querySelector(e):e}const Ul="/eadigitest/ea-digifolk.png",zl={class:"navbar"},Bl={__name:"NavBar",setup(e){return(t,s)=>(J(),ee("header",zl,[U("div",{class:"logo-container",onClick:s[0]||(s[0]=(...n)=>t.goHome&&t.goHome(...n))},s[1]||(s[1]=[U("img",{src:Ul,alt:"EA-DIGIFOLK Logo",class:"logo"},null,-1),U("h4",null,"EA-DIGIFOLK",-1)])),s[2]||(s[2]=U("nav",null,null,-1))]))}},Wl={class:"sidebar"},Vl={class:"filters-section"},Gl={class:"feature-options"},Kl=["title"],Xl={class:"feature-label"},ql=["value","checked","onChange"],Jl={class:"filters-section"},Yl={class:"feature-options"},Zl=["title"],Ql={class:"feature-label"},ea=["value","checked","onChange"],ta=["title"],sa={class:"feature-label"},na=["value","checked","onChange"],ra={__name:"SideBar",setup(e,{expose:t}){const s=ue("chromatic"),n=ue("note");function r(b){s.value=b}function i(b){n.value=b}const a={chromatic:"Chromatic",rhythmic:"Rhythmic",chromatic_rhythmic:"Chromatic & Rhythmic"},c={chromatic:"Analyzes the music using all 12 chromatic pitches without regard for key",rhythmic:"Focuses solely on rhythmic patterns without considering pitch",chromatic_rhythmic:"Combined analysis of chromatic pitch and rhythmic patterns"},h={note:"Note",shared_segments:"Shared Phrases (S)",structure:"Form (F)"},$={combined_s75_ss25:"Combined"},v={note:"Analysis at individual note level, considering each note separately",shared_segments:"Identifies and analyzes common melodic phrases shared between pieces",structure:"Analyzes the high-level formal organization of the music",combined_s75_ss25:"Combined analysis with 75% Form and 25% Shared Phrases"},x=nt(()=>s.value),P=nt(()=>n.value.startsWith("combined_")?n.value.replace("combined_","combined_"):n.value);return t({selectedFeature:s,selectedLevel:n,featureFilenamePattern:x,levelFilenamePattern:P}),(b,T)=>(J(),ee("aside",Wl,[U("div",Vl,[T[0]||(T[0]=U("h3",null,"Features",-1)),U("div",Gl,[(J(),ee(Fe,null,Kt(a,(z,Z)=>U("div",{key:Z,class:Ze(["feature-option",{selected:s.value===Z,unselected:s.value!==Z}]),title:c[Z]},[U("label",null,[U("span",Xl,fe(z),1),U("input",{type:"radio",name:"feature",value:Z,checked:s.value===Z,onChange:ie=>r(Z),class:"square-radio"},null,40,ql)])],10,Kl)),64))])]),U("div",Jl,[T[1]||(T[1]=U("h3",null,"Level",-1)),U("div",Yl,[(J(),ee(Fe,null,Kt(h,(z,Z)=>U("div",{key:Z,class:Ze(["feature-option",{selected:n.value===Z,unselected:n.value!==Z}]),title:v[Z]},[U("label",null,[U("span",Ql,fe(z),1),U("input",{type:"radio",name:"level",value:Z,checked:n.value===Z,onChange:ie=>i(Z),class:"square-radio"},null,40,ea)])],10,Zl)),64)),(J(),ee(Fe,null,Kt($,(z,Z)=>U("div",{key:Z,class:Ze(["feature-option",{selected:n.value===Z,unselected:n.value!==Z}]),title:v[Z]},[U("label",null,[U("span",sa,fe(z),1),U("input",{type:"radio",name:"level",value:Z,checked:n.value===Z,onChange:ie=>i(Z),class:"square-radio"},null,40,na)])],10,ta)),64))])])]))}},oa="modulepreload",ia=function(e){return"/eadigitest/"+e},nr={},rr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let a=function($){return Promise.all($.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=a(s.map($=>{if($=ia($),$ in nr)return;nr[$]=!0;const v=$.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${$}"]${x}`))return;const P=document.createElement("link");if(P.rel=v?"stylesheet":oa,v||(P.as="script"),P.crossOrigin="",P.href=$,h&&P.setAttribute("nonce",h),document.head.appendChild(P),v)return new Promise((b,T)=>{P.addEventListener("load",b),P.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${$}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function $s(e,t){if(!e)return null;const s=e.toLowerCase();for(const[n,r]of Object.entries(t))if(r.genres.includes(s))return{id:n,name:r.name,color:r.color};return null}const la={class:"visualization-area"},aa={class:"breadcrumbs"},ca=["onClick"],ua={key:0},fa={key:5},da={key:0,class:"separator"},ha={key:0,class:"visualization-container"},pa={key:0,class:"compare-controls"},ga={key:1,class:"compare-active"},ma={class:"selected-count"},_a=["disabled"],va={key:1,class:"loading-overlay"},ya={key:2,class:"error-overlay"},ba={key:3,class:"selection-instructions"},$a={key:4,class:"node-details"},wa={key:0},xa={key:0},Ca={key:1},Sa={key:0},Ta={key:2},La={key:0},Ea={key:1,class:"visualization-container score-view-container"},Ma={key:0,class:"score-loading"},ka={key:1,class:"score-error"},Pa={key:2,class:"score-content-wrapper"},Aa={key:0,class:"pre-render-placeholder"},Ra={key:2,class:"compare-view-container"},Fa={class:"score-title"},ja=["id"],Oa={class:"score-loading"},ws=3,Ia={__name:"VisualizationArea",props:{sidebarRef:{type:Object,required:!0}},setup(e){const t=e,s=ue(null),n=ue(null),r=ue(null),i=ue(!0),a=ue(null),c=ue(null),h=ue(!1),$=ue(null),v=ue(1),x=ue([]),P=ue(!1),b=ue("traditions"),T=ue(null),z=ue(null),Z=ue([]),ie=ue([]),se=ue(null),me=ue(""),G=ue(!1),de=ue(null),De=ue(null),Ne=ue(null),we=ue(!1),_e=ue([]),He=ue([]),Ye=ue([]),V={irish:{name:"Irish Tradition",color:"#44E444",genres:["barndance","hornpipe","jig","march","mazurka","polka","reel","slide","strathspey","waltz"]},galician:{name:"Galician Tradition",color:"#3498EF",genres:["alalas","foliadas","jotas","marchas","mazurcas","muineiras","pasacorredoiras","pasodobles","polca","rumbas","valses"]}},et={name:"Folk Music Traditions",children:[{name:"",children:[{name:"Irish Tradition",tradition:"irish",color:V.irish.color},{name:"Galician Tradition",tradition:"galician",color:V.galician.color}]}]};nt(()=>{var o;return(o=t.sidebarRef)==null?void 0:o.selectedFeature}),nt(()=>{var o;return((o=t.sidebarRef)==null?void 0:o.datasets)||[]});const Lt=nt(()=>{var o;return((o=t.sidebarRef)==null?void 0:o.genres)||[]}),Ue=nt(()=>{var o;return((o=t.sidebarRef)==null?void 0:o.featureFilenamePattern)||"chromatic"}),he=nt(()=>{var o;return((o=t.sidebarRef)==null?void 0:o.levelFilenamePattern)||"note"});nt(()=>({chromatic:"Chromatic Analysis",rhythmic:"Rhythmic Analysis",chromatic_rhythmic:"Chromatic & Rhythmic Analysis"})[Ue.value]||"Analysis");const X=nt(()=>{var y;const o=b.value,l=z.value,d=T.value,m=se.value;console.log(`Computing breadcrumbs - View: ${o}, Genre: ${l}, Tradition: ${d}, Score: ${m==null?void 0:m.name}`);const f=[{text:"Traditions",view:"traditions"}];if(o==="combined"&&f.push({text:"Celtic Traditions",view:"combined",combined:!0}),d&&f.push({text:((y=V[d])==null?void 0:y.name)||d,view:"tradition",tradition:d}),(o==="genre"||o==="score"||o==="compare")&&l){const _=(l==null?void 0:l.charAt(0).toUpperCase())+(l==null?void 0:l.slice(1));_&&f.push({text:_,view:"genre",tradition:d,genre:l})}return o==="score"&&m&&f.push({text:at(m),view:"score",tradition:d,genre:l,score:m}),o==="compare"&&f.push({text:"Score Comparison",view:"compare",tradition:d,genre:l}),console.log("Computed breadcrumbs result:",JSON.stringify(f)),f});function le(o,l=!1){if(!o)return"";if(l)return o.charAt(0).toUpperCase()+o.slice(1);if(o.includes(".krn")){const d=o.split("_");if(d.length>=3){const f=d.slice(2).join(" ").replace(/\.krn$/,"").replace(/_/g," ").replace(/__/g," - ");return f.charAt(0).toUpperCase()+f.slice(1)}return o.replace(/\.krn$/,"")}return o}function at(o){if(!o)return"Unknown Score";if(o.display_name)return o.display_name;if(o.title)return o.title;if(o.name){const l=o.name.replace(/\.(musicxml|xml|krn)$/,"");if(l.includes("_")){const d=l.split("_");return d.length>=3&&d[0]==="pezas"?capitalizeWords(d[2].replace(/-/g," ")):capitalizeWords(d.slice(1).join(" "))}return l.includes("-")?capitalizeWords(l.replace(/-/g," ")):capitalizeFirstLetter(l)}return o.id?`Score ${o.id}`:"Unknown Score"}async function Et(o){console.log("Navigating to score:",o);try{if(G.value=!0,de.value=null,!o)throw new Error("No score node provided");console.log(`Score name: ${o.name}, genre: ${o.genre}, tradition: ${o.tradition}`),console.log(`Current view: ${b.value}, genre: ${z.value}, tradition: ${T.value}`),se.value=o,b.value="score",console.log(`Updated to score view: ${o.name}`),await Pe(),await Yt(o);const l=Dt(o);if(!l.isValid)throw new Error("Could not determine score file path");me.value=l.fullPath,console.log(`Loading score from: ${l.fullPath}`);const d=await Zt(l.fullPath);if(!d)throw new Error("Empty score content received. Check that MusicXML files exist in the expected location.");if(!d.includes("<?xml")||!d.includes("<score-partwise")&&!d.includes("<opus")&&!d.includes("<music-score"))throw new Error("Invalid MusicXML format. The file found does not appear to be a valid MusicXML document.");console.log(`Score loaded successfully, size: ${d.length} bytes`),Ne.value=d,gt(d),G.value=!1}catch(l){console.error("Error navigating to score:",l),de.value=`${l.message}
    
    Please make sure your MusicXML files are correctly placed in one of these directories:
    - /preprocessed_data/folksheetmusic/irish/${z.value}/
    - /preprocessed_data/folksheetmusic/galician/${z.value}/
    - /preprocessed_data/folksheetmusic/musicxml_irl_dataset/
    - /preprocessed_data/folksheetmusic/musicxml_gal_dataset/`,G.value=!1}}function ze(o){console.log("Navigating to breadcrumb:",o);try{if(o.view==="score"&&o.score){if(b.value==="score"&&se.value===o.score)return;Et(o.score);return}if(b.value==="score"&&(se.value=null),o.view==="traditions"){T.value=null,z.value=null,b.value="traditions",c.value=null,x.value=[],P.value=!1,console.log("Loading traditions view from breadcrumb"),r.value=et,Q(et,s.value),h.value=!0;return}else if(o.view==="combined"){T.value=null,z.value=null,b.value="combined",c.value=null,x.value=[],P.value=!1,console.log("Loading combined Irish-Galician view from breadcrumb"),oe();return}else if(o.view==="tradition"&&o.tradition){z.value=null,T.value=o.tradition,b.value="tradition",c.value=null,x.value=[],P.value=!1,console.log(`Loading tradition view for ${o.tradition} from breadcrumb`),oe(o.tradition);return}else if(o.view==="genre"&&o.genre&&o.tradition){if(b.value==="genre"&&z.value===o.genre&&T.value===o.tradition)return;T.value=o.tradition,b.value="genre",z.value=o.genre,console.log("Updated state from breadcrumb navigation:",{view:b.value,genre:z.value,tradition:T.value}),c.value=null,x.value=[],P.value=!1,Pe(()=>{console.log("Breadcrumbs after genre breadcrumb click:",X.value),console.log(`Loading genre view for ${o.genre} in ${o.tradition} from breadcrumb`),W(o.genre,o.tradition,Ue.value,he.value)})}}catch(l){console.error("Error navigating via breadcrumb:",l),a.value=`Navigation error: ${l.message}`}}async function Ge(){var o,l,d;try{i.value=!0;const m=Ue.value,f=he.value;let y=[],_=[];const p={combined_s25_ss75_chromatic:"genre_tree_combined_s25_ss75_chromatic_rhythmic.json",combined_s25_ss75_chromatic_rhythmic:"genre_tree_combined_s25_ss75_chromatic_rhythmic.json",combined_s50_ss50_chromatic:"genre_tree_combined_s50_ss50_chromatic.json",combined_s50_ss50_chromatic_rhythmic:"genre_tree_combined_s50_ss50_chromatic_rhythmic.json",combined_s75_ss25_chromatic:"genre_tree_combined_s75_ss25_chromatic.json",combined_s75_ss25_chromatic_rhythmic:"genre_tree_combined_s75_ss25_chromatic_rhythmic.json",combined_s25_ss75_rhythmic:"genre_tree_combined_s25_ss75_rhythmic.json",combined_s50_ss50_rhythmic:"genre_tree_combined_s50_ss50_rhythmic.json",combined_s75_ss25_rhythmic:"genre_tree_combined_s75_ss25_rhythmic.json",note_chromatic:"genre_tree_note_chromatic.json",note_chromatic_rhythmic:"genre_tree_note_chromatic_rhythmic.json",note_rhythmic:"genre_tree_note_rhythmic.json"},C=`${f}_${m}`,A=p[C];if(console.log(`Current feature/level key: ${C}, matching file: ${A||"none"}`),b.value==="traditions"&&A)console.log(`Using special case mapping for ${C}: ${A}`),y=[A],_=["note_level/both/","combined/both/",""];else if(b.value==="traditions")y=[`genre_tree_${f}_${m}.json`,`${f}_${m}_all_genres_phylogenetic_tree.json`,`note_level_${m}_all_genres_phylogenetic_tree.json`,`combined_s50_ss50_${m}_all_genres_phylogenetic_tree.json`],_=["note_level/both/","combined/both/",""];else if(b.value==="tradition"){const R=((o=T.value)==null?void 0:o.toLowerCase())||"";y=[`${R}_genre_tree_${f}_${m}.json`,`genre_tree_${R}_${f}_${m}.json`,`${R}_${f}_${m}_all_genres_phylogenetic_tree.json`,`${R}_combined_s25_ss75_${m}_all_genres_phylogenetic_tree.json`,`${R}_combined_s50_ss50_${m}_all_genres_phylogenetic_tree.json`,`${R}_combined_s75_ss25_${m}_all_genres_phylogenetic_tree.json`,`${R}_note_level_${m}_all_genres_phylogenetic_tree.json`,`${R}_shared_segments_level_${m}_all_genres_phylogenetic_tree.json`,`${R}_structure_level_${m}_all_genres_phylogenetic_tree.json`],_=[`note_level/${R}/`,`combined/${R}/`,`shared_segments/${R}/`,`structure_level/${R}/`,"note_level/both/","combined/both/",""]}else if(b.value==="genre"){const R=((l=z.value)==null?void 0:l.toLowerCase())||"",N=((d=T.value)==null?void 0:d.toLowerCase())||"";y=[`score_tree_${m}_${R}.json`,`${f}_${m}_${R}_phylogenetic_tree.json`,`${f}_${m}_${N}_genres_phylogenetic_tree.json`,`${R}_${f}_${m}_scores.json`,`${N}_${f}_${m}_${R}.json`],_=[`genre/${N}/`,"genre/both/",`note_level/${N}/`,`combined/${N}/`,"note_level/both/","combined/both/",""]}console.log(`Looking for tree files: feature=${m}, level=${f}, view=${b.value}`),console.log(`File candidates: ${y.join(", ")}`),console.log(`Path candidates: ${_.join(", ")}`),ie.value=y;const E=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1";console.log(`Running in ${E?"production":"development"} mode`);const I=sessionStorage.getItem("lastWorkingTreePath"),D=E?["/eadigitest/preprocessed_data/","/eadigitest/dist/preprocessed_data/","/eadigitest/public/preprocessed_data/"`${"/eadigitest/"}`,"/eadigitest/dist/"]:["./preprocessed_data/","../preprocessed_data/","preprocessed_data/","./","../"];for(const R of D)for(const N of _)for(const B of y)try{const ve=`${R}${N}${B}`;if(console.log(`Trying path: ${ve}`),(await fetch(ve,{cache:"no-cache"})).ok){console.log(` Success with path: ${ve}`);const xe=`${R}${N}`;return sessionStorage.setItem("lastWorkingTreePath",xe),{path:xe,filename:B}}}catch{console.log(` Error with path: ${R}${N}${B}`)}if(I){console.log(`Trying with last working path: ${I}`);for(const R of y)try{const N=`${I}${R}`;if(console.log(`Trying last working path: ${N}`),(await fetch(N,{cache:"no-cache"})).ok)return console.log(` Success with last working path: ${N}`),{path:I,filename:R}}catch{}}return console.log(" Could not find any suitable tree files"),null}catch(m){return console.error("Error finding available trees:",m),a.value=`Error finding tree files: ${m.message}`,null}finally{i.value=!1}}async function ct(){i.value=!0,a.value=null;try{if(b.value==="traditions"){console.log("Using hardcoded traditions tree for top-level view"),r.value=et,Q(et,s.value),h.value=!0;return}const o=await Ge();if(!o)if(b.value==="tradition"){j(T.value);return}else throw new Error(`No suitable tree file found for ${b.value} view`);const l=`${o.path}${o.filename}`;console.log(`Loading tree from file: ${l}`);try{const d=await fetch(l,{cache:"no-cache"});if(!d.ok)throw new Error(`Failed to load tree data: ${d.status}`);const m=await d.json();r.value=m;const f=b.value==="tradition"?g(m,T.value):u(m);n.value=f,Q(f,s.value),h.value=!0}catch(d){if(console.error(`Error fetching ${l}:`,d),b.value==="tradition")j(T.value);else throw d}}catch(o){console.error("Error loading tree data:",o),a.value=`Error loading tree data: ${o.message}`,h.value=!1}finally{i.value=!1}}function Dt(o){if(!o||!o.name)return{isValid:!1};try{let l="",d="";const m=o.tradition||T.value;if(m==="irish")d="preprocessed_data/folksheetmusic/irish/";else if(m==="galician")d="preprocessed_data/folksheetmusic/galician/";else return console.error(`Unknown tradition: ${m}`),{isValid:!1};const f=o.genre||z.value;if(!f)return console.error("No genre specified for score"),{isValid:!1};d=`${d}${f}/`;const y=o.name||"";if(console.log(`Mapping score: tradition=${m}, genre=${f}, name=${y}`),m==="irish"){let p=y.replace(/\.krn$/,"").replace(/\.musicxml$/,"").toLowerCase().trim();if(p=p.replace(/\s+1\s+e\s+1$/i,"").replace(/_1_1$/i,"").replace(/_2_1$/i,"").replace(/_\d+_\d+$/i,"").replace(/--/g,"-"),p.toLowerCase().startsWith(f.toLowerCase()+"_"))l=`${p}.musicxml`;else{const C=p.replace(/\s+/g,"-");l=`${f}_${C}.musicxml`}if(y.includes("Fandangu")&&(l="mazurka_Fandangu.musicxml"),y.includes("Swedishish")&&(l="mazurka_Swedishish.musicxml"),y.toLowerCase().includes("kinclaven")&&(l="barndance_Kinclaven-Brig.musicxml"),f==="strathspey"||f==="polka"){const C=p.split(/\s+/).map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join("-"),E=[`${f}_${C}`];if(p.toLowerCase().startsWith("the ")){const D=p.substring(4).split(/\s+/).map(R=>R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()).join("-")+"--The";E.push(`${f}_${D}`)}if(p.toLowerCase().endsWith(" the")){const D="The-"+p.substring(0,p.length-4).split(/\s+/).map(R=>R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()).join("-");E.push(`${f}_${D}`)}E.length>1&&(p.toLowerCase().includes(" the ")||p.toLowerCase().startsWith("the ")||p.toLowerCase().endsWith(" the"))?l=E[1]+".musicxml":l=E[0]+".musicxml"}f==="polka"&&(y.toLowerCase().includes("binne")||y.toLowerCase().includes("bainne"))&&(l="polka_Polca-Na-Carraige-Binne.musicxml"),f==="strathspey"&&y.toLowerCase().includes("is it a jig")&&(l="strathspey_Is-It-A-Jig-Yet.musicxml")}else if(m==="galician"){let p=y.replace(/\.(krn|musicxml)$/i,"").trim();const C=p.toLowerCase().includes("partitura"),A=p.toLowerCase().includes("1 e 1")||p.toLowerCase().includes("_1_e_1"),E=p.toLowerCase().includes("2 e 1")||p.toLowerCase().includes("_2_e_1"),I=p.replace(/\s+/g,"-").toLowerCase(),D=I.match(/^(.+?)[-_](\d+)$/),R=D?`${D[1]}-${D[2]}`:I;let N;E?N=`${f}_${R}_${R}-partitura_2_e_1.musicxml`:A?N=`${f}_${R}_${R}-partitura_1_e_1.musicxml`:C?N=`${f}_${R}_${R}-partitura.musicxml`:N=`${f}_${R}.musicxml`,l=N}const _={isValid:!0,fullPath:d+l,fileName:l,tradition:m,genre:f,possiblePaths:[]};return _.possiblePaths.push(_.fullPath),m==="irish"?Us(_,d,f,y):m==="galician"&&Mt(_,d,f,y),_.wildcardPath=`${d}${f}_*.musicxml`,_.possiblePaths=[...new Set(_.possiblePaths)],_.possiblePaths=_.possiblePaths.map(p=>p.replace(/--+/g,"-")),console.log(`Generated primary path: ${_.fullPath}`),console.log(`Alternative paths (${_.possiblePaths.length}):`,_.possiblePaths),_}catch(l){return console.error("Error mapping score to file path:",l),{isValid:!1}}}function Us(o,l,d,m){const f=m.replace(/\.krn$/,"").replace(/\.musicxml$/,"").replace(/\s+1\s+e\s+1$/i,"").replace(/_1_1$/i,"").replace(/_2_1$/i,"").replace(/_\d+_\d+$/i,"").trim(),y=f.split(/\s+/),_=y.map(E=>E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()).join("-");o.possiblePaths.push(l+`${d}_${_}.musicxml`);const p=y.map(E=>E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()).join("_");o.possiblePaths.push(l+`${d}_${p}.musicxml`);const C=y.join("-").toLowerCase();o.possiblePaths.push(l+`${d}_${C}.musicxml`);const A=y.join("_").toLowerCase();if(o.possiblePaths.push(l+`${d}_${A}.musicxml`),y[0].toLowerCase()==="the"&&y.length>1){const I=y.slice(1).map(D=>D.charAt(0).toUpperCase()+D.slice(1).toLowerCase()).join("-")+"--The";o.possiblePaths.push(l+`${d}_${I}.musicxml`)}if(y[y.length-1].toLowerCase()==="the"&&y.length>1){const I="The-"+y.slice(0,-1).map(D=>D.charAt(0).toUpperCase()+D.slice(1).toLowerCase()).join("-");o.possiblePaths.push(l+`${d}_${I}.musicxml`)}if(o.possiblePaths.push(l+`${d}_${C}_1_1.musicxml`),o.possiblePaths.push(l+`${d}_${_}_1_1.musicxml`),o.possiblePaths.push(`preprocessed_data/folksheetmusic/musicxml_irl_dataset/${d}_${_}.musicxml`),o.possiblePaths.push(`preprocessed_data/folksheetmusic/musicxml_irl_dataset/${d}_${C}.musicxml`),d==="strathspey"){const E=y.map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join("-");o.possiblePaths.push(l+`strathspey_${E}.musicxml`),f.toLowerCase().includes("is it a jig")&&o.possiblePaths.push(l+"strathspey_Is-It-A-Jig-Yet.musicxml"),f.toLowerCase().includes("tulloch")&&o.possiblePaths.push(l+"strathspey_Reel-Of-Tulloch--The.musicxml")}d==="polka"&&f.toLowerCase().includes("bainne")&&o.possiblePaths.push(l+"polka_Polca-Na-Carraige-Binne.musicxml"),f.toLowerCase().includes("kinclaven")&&o.possiblePaths.push(l+"barndance_Kinclaven-Brig.musicxml")}function Mt(o,l,d,m){const f=m.replace(/\.(krn|musicxml)$/i,"").trim(),y=f.toLowerCase().replace(/\s+/g,"-");f.toLowerCase().includes("partitura"),f.toLowerCase().includes("1 e 1")||f.includes("_1_e_1"),f.toLowerCase().includes("2 e 1")||f.includes("_2_e_1");const _=y.match(/^(.+?)[-_](\d+)$/),p=_?`${_[1]}-${_[2]}`:y,C=_?_[2]:"";o.possiblePaths.push(l+`${d}_${p}_${p}-partitura_1_e_1.musicxml`),o.possiblePaths.push(l+`${d}_${p}_${p}-partitura_2_e_1.musicxml`),o.possiblePaths.push(l+`${d}_${p}_${p}-partitura.musicxml`),o.possiblePaths.push(l+`${d}_${p}.musicxml`),o.possiblePaths.push(l+`${d}_${p}-partitura.musicxml`),o.possiblePaths.push(l+`${d}_${p}-partitura_1_e_1.musicxml`),o.possiblePaths.push(l+`${d}_${p}-partitura_2_e_1.musicxml`),C&&d==="alalas"&&(o.possiblePaths.push(l+`${d}_alala-${C}_alala-partitura_1_e_1.musicxml`),o.possiblePaths.push(l+`${d}_alala-${C}-alala-partitura-1-e-1_alala-${C}-alala-partitura-1-e-1-partitura_1_e_1.musicxml`)),C&&d==="valses"&&(o.possiblePaths.push(l+`${d}_valse-${C}_valse-partitura_1_e_1.musicxml`),o.possiblePaths.push(l+`${d}_valse-${C}_valse-partitura_2_e_1.musicxml`)),C&&(d==="mazurcas"||d==="muineiras"||d==="polca"||d==="pasacorredoiras")&&(o.possiblePaths.push(l+`${d}_${d.replace(/s$/,"")}-${C}_${d.replace(/s$/,"")}-partitura_1_e_1.musicxml`),o.possiblePaths.push(l+`${d}_${d.replace(/s$/,"")}-${C}_${d.replace(/s$/,"")}-partitura_2_e_1.musicxml`)),o.possiblePaths.push(`preprocessed_data/folksheetmusic/musicxml_gal_dataset/${d}_${y}.musicxml`)}async function Nt(o,l,d){const m=o==="irish"?`preprocessed_data/folksheetmusic/irish/${l}/`:`preprocessed_data/folksheetmusic/galician/${l}/`;try{console.log(`Searching directory: ${m} for files matching: ${d}`);const f=await fetch(m);if(!f.ok)return console.log(` Cannot access directory: ${m}`),null;const y=await f.text(),_=[],p=/<a href="([^"]+\.musicxml)">/g;let C;for(;(C=p.exec(y))!==null;)_.push(C[1]);if(_.length===0)return console.log("No MusicXML files found in directory"),null;console.log(`Found ${_.length} MusicXML files in directory`);let A=d.replace(/\.krn$/,"").toLowerCase().replace(/\s+1\s+e\s+1$/i,"").replace(/_1_1$/i,"").replace(/_2_1$/i,"").replace(/_\d+_\d+$/i,"").trim(),E=null,I=0;for(const D of _){const R=D.replace(/\.musicxml$/,"");let N=R;R.startsWith(`${l}_`)&&(N=R.substring(l.length+1)),N=o==="irish"?N.replace(/_/g," "):N.replace(/-/g," "),N=N.replace(/_1_1$/i,"").replace(/_2_1$/i,"").replace(/_\d+_\d+$/i,"");const B=A.split(/\s+/),ve=N.split(/\s+/);let ye=0;for(let xe=0;xe<B.length;xe++){const _t=B[xe];if(!(_t.length<2))for(let Ht=0;Ht<ve.length;Ht++){const vt=ve[Ht];vt.length<2||(vt===_t?(ye+=2,xe===0&&Ht===0?ye+=3:xe<2&&Ht<2&&(ye+=1)):vt.includes(_t)||_t.includes(vt)?(ye+=1,xe===0&&Ht===0&&(ye+=1)):vt.length>3&&_t.length>3&&(vt.includes(_t.substring(0,_t.length-1))||_t.includes(vt.substring(0,vt.length-1)))&&(ye+=.5))}}ye>I&&(I=ye,E=D)}return E&&I>0?(console.log(`Found best match with score ${I}: ${E}`),`${m}${E}`):(console.log(`No good match found, using first file: ${_[0]}`),`${m}${_[0]}`)}catch(f){return console.error(`Error searching directory: ${f}`),null}}async function Yt(o){console.group(" Score Loading Debug"),console.log("Score node:",o);const l=Dt(o);console.log("Mapped path info:",l);try{const m=await fetch(l.fullPath,{method:"HEAD"});if(console.log(`Primary path exists: ${m.ok?" Found":" Not found"} (${m.status})`),m.ok)try{const y=await(await fetch(l.fullPath)).text(),_=y.includes("<?xml")&&(y.includes("<score-partwise")||y.includes("<opus")||y.includes("<music-score"));console.log(`Primary path content check: ${_?" Valid MusicXML":" Not valid MusicXML"}`)}catch(f){console.log("Content check error:",f.message)}}catch(m){console.log("Primary path check error:",m.message)}if(l.possiblePaths&&l.possiblePaths.length>0){console.log(`Testing ${l.possiblePaths.length} alternative paths:`);for(const m of l.possiblePaths)try{const f=await fetch(m,{method:"HEAD"});console.log(`- ${m}: ${f.ok?" Found":" Not found"} (${f.status})`)}catch(f){console.log(`- ${m}:  Error: ${f.message}`)}}const d=l.fullPath.substring(0,l.fullPath.lastIndexOf("/")+1);console.log("Attempting to list directory:",d);try{const m=await fetch(d);if(m.ok){const f=await m.text();if(f.includes("<a href")){const y=[],_=/<a href="([^"]+\.musicxml)">/g;let p;for(;(p=_.exec(f))!==null;)y.push(p[1]);console.log(`Found ${y.length} MusicXML files in directory`);const C=o.name.toLowerCase().replace(/\.krn$/,""),A=y.filter(E=>{const I=E.toLowerCase();return C.split(" ").some(D=>D.length>3&&I.includes(D.toLowerCase()))});A.length>0&&console.log("Files potentially matching score name:",A),y.length<=20?console.log("All MusicXML files in directory:",y):console.log("First 20 MusicXML files in directory:",y.slice(0,20))}else console.log("Directory listing not available (no links found)")}else console.log(`Directory not accessible: ${m.status}`)}catch(m){console.log("Directory listing error:",m.message)}console.groupEnd()}async function Zt(o){try{let l=null,d=null;const m=se.value?Dt(se.value):null,f=(m==null?void 0:m.possiblePaths)||[o];console.log(`Attempting to load score from ${f.length} possible paths`);for(const y of f){if(l)break;try{console.log(`Trying: ${y}`);const _=await fetch(y);if(_.ok){const p=await _.text();if(p.includes("<?xml")&&(p.includes("<score-partwise")||p.includes("<opus")||p.includes("<music-score"))){console.log(` Successfully loaded valid MusicXML from: ${y}`),l=p,d=y;break}else console.log(` Path returned content, but it is not valid MusicXML: ${y}`)}else console.log(` Path failed (${_.status}): ${y}`)}catch(_){console.log(` Error with path ${y}: ${_.message}`)}}if(!l&&se.value){console.log("Direct paths failed, trying directory listing fallback");const y=se.value.tradition||T.value,_=se.value.genre||z.value;if(y&&_)try{const p=await Nt(y,_,se.value.name);if(p){console.log(` Found file through directory search: ${p}`);const C=await fetch(p);if(C.ok){const A=await C.text();A.includes("<?xml")&&(A.includes("<score-partwise")||A.includes("<opus")||A.includes("<music-score"))&&(console.log(" Successfully loaded valid MusicXML from wildcard match"),l=A,d=p)}}}catch(p){console.log(` Error with directory search: ${p.message}`)}}if(l)return console.log(`Successfully loaded valid MusicXML score (${l.length} bytes) from: ${d}`),l;if(se.value){const y=se.value.tradition||T.value,_=se.value.genre||z.value;if(y&&_){const p=`preprocessed_data/folksheetmusic/${y}/${_}/`;try{console.log(`Last resort: trying to find ANY MusicXML file in ${p}`);const C=await fetch(p);if(C.ok){const A=await C.text(),I=/<a href="([^"]+\.musicxml)">/.exec(A);if(I&&I[1]){const D=`${p}${I[1]}`;console.log(`Found a MusicXML file as last resort: ${D}`);const R=await fetch(D);if(R.ok){const N=await R.text();if(N.includes("<?xml")&&(N.includes("<score-partwise")||N.includes("<opus")||N.includes("<music-score")))return console.log(" Successfully loaded valid MusicXML from last resort file"),l=N,d=D,l}}}}catch(C){console.log(` Error with last resort approach: ${C.message}`)}}}throw new Error(`Failed to load score from ${o} or any alternatives. Please check that MusicXML files exist in the expected locations.`)}catch(l){throw console.error("Error loading score:",l),l}}function gt(o){try{const l=De.value;if(console.log("Score renderer element:",l),!l){console.error("Score container not found - waiting for it to be available"),setTimeout(()=>{if(De.value)console.log("Score container found on retry"),gt(o);else{console.error("Score container still not found after retry");const f=document.querySelector(".score-content")||document.querySelector(".score-view-container");f&&(console.log("Using fallback container"),Qt(o,f))}},100);return}if(l.innerHTML="",!(o.includes("<?xml")&&(o.includes("<score-partwise")||o.includes("<opus")||o.includes("<music-score")||o.includes("<MusicXML"))||o.includes("<!DOCTYPE score-partwise"))){console.error("Content doesn't appear to be valid MusicXML"),l.innerHTML=`
        <div class="score-error">
          <h3>Invalid MusicXML Format</h3>
          <p>The file was found, but doesn't appear to be a valid MusicXML document.</p>
          <div class="file-info">
            <p><strong>File path:</strong> ${me.value}</p>
            <p><strong>Content preview:</strong></p>
            <pre class="xml-preview">${o.substring(0,300).replace(/</g,"&lt;").replace(/>/g,"&gt;")}...</pre>
          </div>
          <p>Please try a different score or check the file format.</p>
          <button id="retry-load" class="retry-button">
            Retry With OpenSheetMusicDisplay
          </button>
        </div>
      `;const m=document.getElementById("back-to-list");m&&m.addEventListener("click",()=>{ze(X.value[X.value.length-2]||X.value[0])});const f=document.getElementById("retry-load");f&&f.addEventListener("click",()=>{Qt(o,l)});return}Qt(o,l)}catch(l){console.error("Error in renderScore function:",l);const d=De.value||document.querySelector(".score-content")||document.querySelector(".score-view-container");if(d){d.innerHTML=`
        <div class="score-error">
          <h3>Unexpected Error</h3>
          <p>An error occurred while trying to render the score: ${l.message}</p>
          <button id="retry-load" class="retry-button">
            Retry With OpenSheetMusicDisplay
          </button>
        </div>
      `;const m=document.getElementById("back-to-list");m&&m.addEventListener("click",()=>{ze(X.value[X.value.length-2]||X.value[0])});const f=document.getElementById("retry-load");f&&f.addEventListener("click",()=>{Qt(o,d)})}}}function Qt(o,l){l.innerHTML=`
    <div class="score-loading">
      <div class="loading-spinner"></div>
      <p>Loading score...</p>
    </div>
  `,rr(()=>import("./opensheetmusicdisplay.min-BGJan11s.js").then(d=>d.o),[]).then(async d=>{try{l.innerHTML="";const m=document.createElement("div");m.className="score-view minimal-view";const f=document.createElement("div");f.className="osmd-container",m.appendChild(f),l.appendChild(m);const y=new d.OpenSheetMusicDisplay(f,{autoResize:!1,drawTitle:!0,drawSubtitle:!1,drawComposer:!1,drawCredits:!1,disableCursor:!0,drawingParameters:{defaultStaffHeight:10,compactMode:!0,noteSpacingFactor:.7,measureMinimumWidth:10,staffDistance:10,systemDistance:8,pageTopMargin:10,pageBottomMargin:10,pageLeftMargin:10,pageRightMargin:10,compactModeMinimumWidth:8,renderSingleHorizontalStaffline:!0,useXMLMeasureWidth:!1,defaultColorNote:"#000000",defaultFontFamily:"Arial",defaultFontStyle:"normal"},pageWidth:1e3,stretchLastSystemLine:!1,newSystemFromXML:!0});console.log("Creating OSMD instance with content length:",o.length);try{await y.load(o),await y.render(),console.log("Score rendered successfully with OpenSheetMusicDisplay");const _=document.createElement("div");_.className="bottom-control-container";const p=document.createElement("button");p.className="download-button",p.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="margin-right: 5px;">
            <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          Download MusicXML
        `,p.addEventListener("click",()=>{const C=new Blob([o],{type:"text/xml"}),A=URL.createObjectURL(C),E=document.createElement("a");E.href=A,E.download="score.musicxml",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(A)}),_.appendChild(p),m.appendChild(_)}catch(_){console.error("Error during OSMD load/render:",_);try{console.log("Trying XML parser workaround...");const C=new DOMParser().parseFromString(o,"text/xml"),E=new XMLSerializer().serializeToString(C);await y.load(E),await y.render(),console.log("Score rendered successfully with XML cleanup workaround");const I=document.createElement("div");I.className="bottom-control-container";const D=document.createElement("button");D.className="download-button",D.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="margin-right: 5px;">
              <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
            Download MusicXML
          `,D.addEventListener("click",()=>{const R=new Blob([E],{type:"text/xml"}),N=URL.createObjectURL(R),B=document.createElement("a");B.href=N,B.download="score.musicxml",document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(N)}),I.appendChild(D),m.appendChild(I)}catch{f.innerHTML=`
            <div class="score-error">
              <h3>Error Rendering Score</h3>
              <p>${_.message}</p>
              <p>This might be due to unsupported features or invalid MusicXML format.</p>
              <p><strong>Raw MusicXML content preview:</strong></p>
              <pre class="xml-preview">${o.substring(0,300).replace(/</g,"&lt;").replace(/>/g,"&gt;")}...</pre>
            </div>
          `}}}catch(m){console.error("Error rendering with OpenSheetMusicDisplay:",m),l.innerHTML=`
        <div class="score-error">
          <h3>Error Rendering Score</h3>
          <p>${m.message}</p>
        </div>
      `}}).catch(d=>{console.error("Error importing OpenSheetMusicDisplay:",d),l.innerHTML=`
      <div class="score-error">
        <h3>Error Loading Score Renderer</h3>
        <p>${d.message}</p>
        <p>Could not load the OpenSheetMusicDisplay library.</p>
      </div>
    `})}function u(o){var m;if(!o)return o;const l=JSON.parse(JSON.stringify(o)),d=(f,y={})=>{var _;if(f){if(y.genre&&!f.genre&&(f.genre=y.genre),y.tradition&&!f.tradition&&(f.tradition=y.tradition),f.genre&&!f.tradition){const p=$s(f.genre,V);p&&(f.tradition=p.name)}if(f.name&&f.name.includes("_")&&!f.genre){const p=f.name.split("_");if(p.length>1){const C=p[1].toLowerCase();for(const[A,E]of Object.entries(V))if(E.genres.includes(C)){f.genre=C,f.tradition=A;break}}}if(f.name&&f.name.includes("pezas_")&&!f.genre){const p=f.name.split("_");p.length>2&&(f.tradition="galician",f.genre=p[2].toLowerCase())}f.name&&!f.display_name&&(f.display_name=le(f.name,!!f.genre)),f.tradition&&!f.color&&(f.color=((_=V[f.tradition])==null?void 0:_.color)||"#999"),f.children&&Array.isArray(f.children)&&f.children.forEach(p=>d(p,{genre:f.genre,tradition:f.tradition}))}};return d(l),l.name||(b.value==="traditions"?l.name="Folk Music Traditions":b.value==="tradition"&&T.value?l.name=`${((m=V[T.value])==null?void 0:m.name)||T.value} Genres`:b.value==="genre"&&z.value?l.name=`${le(z.value,!0)} Scores`:l.name="Music Phylogenetic Tree"),l}function g(o,l){if(!o||!l)return o;const d=u(o),m=f=>{if(!f)return null;if(f.tradition===l)return f;if(!f.children||!Array.isArray(f.children)||f.children.length===0)return null;const y=f.children.map(m).filter(Boolean);return y.length===0?null:{...f,children:y}};return m(d)||d}function w(){we.value=!0,_e.value=[],s.value&&(re(s.value).selectAll(".node circle").transition().duration(300).attr("opacity",.4),re(s.value).selectAll(".node-label").transition().duration(300).attr("opacity",.4),re(s.value).selectAll(".link").transition().duration(300).attr("opacity",.2)),re(s.value).selectAll(".node").on("click",S)}function M(){we.value=!1,_e.value=[],s.value&&(re(s.value).selectAll(".node circle").transition().duration(300).attr("opacity",1),re(s.value).selectAll(".node-label").transition().duration(300).attr("opacity",1),re(s.value).selectAll(".link").transition().duration(300).attr("opacity",.8)),re(s.value).selectAll(".node").on("click",ne)}function S(o,l){if(o.stopPropagation(),l.children)return;const d=l.data,m=_e.value.findIndex(f=>f.name===d.name&&f.genre===d.genre);if(m>=0)_e.value.splice(m,1),re(o.currentTarget).classed("selected",!1).select("circle").transition().duration(300).attr("opacity",.4).attr("stroke-width",1).attr("r",5).attr("fill",f=>f.data.color||"#999");else{if(_e.value.length>=ws){alert(`You can only compare up to ${ws} scores at once.`);return}_e.value.push(d),re(o.currentTarget).classed("selected",!0).select("circle").transition().duration(300).attr("opacity",1).attr("stroke-width",3).attr("r",8).attr("stroke","#ff5733").attr("fill","#ff5733"),re(o.currentTarget).select("text").transition().duration(300).attr("opacity",1).attr("font-weight","bold")}console.log(`Selected scores (${_e.value.length}):`,_e.value)}async function L(){if(_e.value.length===0){alert("Please select at least one score to compare.");return}try{b.value="compare",G.value=!0,de.value=null,Ye.value=Array(_e.value.length).fill(null),He.value=[],await Pe(),await new Promise(o=>setTimeout(o,500)),console.log("Starting comparison score loading process");for(let o=0;o<_e.value.length;o++)try{const l=_e.value[o];console.log(`Loading score ${o+1}/${_e.value.length}: ${l.name}`);const d=document.getElementById(`comparison-renderer-${o}`);if(!d){console.error(`No container found for score ${o+1}`);continue}He.value.push(d),d.innerHTML=`
          <div class="score-loading">
            <div class="loading-spinner"></div>
            <p>Loading ${l.name}...</p>
          </div>
        `,await new Promise(p=>setTimeout(p,100)),se.value=l;const m=Dt(l);if(!m.isValid)throw new Error(`Could not determine score file path for ${l.name}`);console.log(`Attempting to load score from: ${m.fullPath}`);let f=null;try{if(f=await Zt(m.fullPath),!f)throw new Error(`No valid content found for ${l.name}`);Ye.value[o]=f,d.innerHTML="";const p=document.createElement("div");p.className="osmd-comparison-container",d.appendChild(p);const C=await rr(()=>import("./opensheetmusicdisplay.min-BGJan11s.js").then(N=>N.o),[]),A=new C.OpenSheetMusicDisplay(p,{autoResize:!1,drawTitle:!0,drawSubtitle:!1,drawComposer:!1,drawCredits:!1,disableCursor:!0,drawingParameters:{defaultFontFamily:"Arial",defaultFontStyle:"normal",defaultStaffHeight:10,defaultColorNote:"#000000",compactMode:!0,renderSingleHorizontalStaffline:!0,optimizeForPrint:!0},pageBackgroundColor:"#FFFFFF",drawHiddenNotes:!1,newSystemFromXML:!1,stretchLastSystemLine:!1});await A.load(f),A.zoom=.6,await A.render(),console.log(`Successfully rendered score ${o+1}`),A.zoom=.6,await A.render(),console.log(`Successfully rendered score ${o+1}`);const E=document.createElement("div");E.className="zoom-controls",E.innerHTML=`
            <button class="zoom-in">+</button>
            <button class="zoom-out">-</button>
            <button class="zoom-fit">Fit</button>
          `,d.insertBefore(E,p);const I=E.querySelector(".zoom-in"),D=E.querySelector(".zoom-out"),R=E.querySelector(".zoom-fit");I.addEventListener("click",()=>{A.zoom=Math.min(A.zoom*1.2,2),A.render()}),D.addEventListener("click",()=>{A.zoom=Math.max(A.zoom*.8,.3),A.render()}),R.addEventListener("click",()=>{A.zoom=.6,A.render()})}catch(p){console.error(`Error rendering score ${o+1}:`,p),d.innerHTML=`
            <div class="score-error">
              <h3>Error Loading Score</h3>
              <p>${p.message}</p>
              <p>Please check that MusicXML files exist at the expected locations.</p>
            </div>
          `}await new Promise(p=>setTimeout(p,1e3));const y=document.createElement("div");y.className="comparison-bottom-control-container";const _=document.createElement("button");_.className="download-button",_.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="margin-right: 5px;">
            <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          Download MusicXML
        `,_.addEventListener("click",()=>{const p=new Blob([f],{type:"text/xml"}),C=URL.createObjectURL(p),A=document.createElement("a");A.href=C;const I=(l.name||`score-${o+1}`).replace(/[^a-zA-Z0-9_-]/g,"-");A.download=`${I}.musicxml`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(C)}),y.appendChild(_),d.appendChild(y)}catch(l){console.error(`Error loading score ${o}:`,l);const d=document.getElementById(`comparison-renderer-${o}`);d&&(d.innerHTML=`
            <div class="score-error">
              <h3>Error Loading Score</h3>
              <p>${l.message}</p>
            </div>
          `),await new Promise(m=>setTimeout(m,300))}se.value=null,G.value=!1}catch(o){console.error("Error viewing selected scores:",o),de.value=`Error comparing scores: ${o.message}`,G.value=!1}}function O(){try{const o=X.value.find(l=>l.view==="genre");if(o&&o.tradition&&o.genre)b.value="genre",T.value=o.tradition,z.value=o.genre,_e.value=[],He.value=[],Ye.value=[],we.value=!1,Pe(()=>{console.log("Returning to genre view:",o.genre),W(o.genre,o.tradition,Ue.value,he.value)});else{const l=X.value.find(d=>d.view==="tradition");l&&l.tradition?(b.value="tradition",z.value=null,T.value=l.tradition,_e.value=[],He.value=[],Ye.value=[],we.value=!1,Pe(()=>{console.log("Returning to tradition view:",l.tradition),oe(l.tradition)})):(b.value="traditions",z.value=null,T.value=null,_e.value=[],He.value=[],Ye.value=[],we.value=!1,Pe(()=>{console.log("Returning to traditions overview"),ct()}))}}catch(o){console.error("Error in exitCompareView:",o),b.value="traditions",ct()}}function j(o){var y,_,p;console.log("Creating custom genre tree for",o);const l=((y=V[o])==null?void 0:y.genres)||[],d=((_=V[o])==null?void 0:_.color)||"#999",m={name:`${((p=V[o])==null?void 0:p.name)||o} Genres`,tradition:o,color:d,children:[]},f={name:"Genres",tradition:o,color:d,children:l.map(C=>({name:le(C,!0),genre:C.toLowerCase(),tradition:o,color:d,display_name:le(C,!0)}))};m.children.push(f),n.value=m,h.value=!0,i.value=!1,Pe(()=>Q(m,s.value))}function F(o){var l;c.value=null,T.value=o,z.value=null,b.value="tradition",x.value=[],P.value=!1,Z.value=((l=V[o])==null?void 0:l.genres)||[],i.value=!0,ct()}function k(o){if(console.log(`navigateToGenre called with genre: ${o}`),K(o,T.value),c.value=null,b.value="genre",z.value=o,x.value=[],P.value=!1,Pe(()=>{console.log("Current breadcrumbs after genre update:",X.value)}),i.value=!0,a.value=null,!T.value){const y=$s(o,V);y&&y.id&&(T.value=y.id)}const l=Ue.value,d=he.value,f={note:"note_level",segment:"shared_segments",combined:"combined",structure:"structure_level"}[d]||"shared_segments";console.log(`Looking for ${o} tree in ${T.value} tradition`),console.log(`Using feature: ${l}, level: ${f}`),async function(){var A;const y=[`./preprocessed_data/genre_segmented/${f}/${T.value}/${o}/`,`../preprocessed_data/genre_segmented/${f}/${T.value}/${o}/`,`preprocessed_data/genre_segmented/${f}/${T.value}/${o}/`,`./preprocessed_data/genre_segmented/combined/${T.value}/${o}/`,`./preprocessed_data/genre_segmented/shared_segments/${T.value}/${o}/`,`./preprocessed_data/genre_segmented/note_level/${T.value}/${o}/`,`./preprocessed_data/genre_segmented/structure_level/${T.value}/${o}/`,`./preprocessed_data/genre/${T.value}/${o}/`,`./preprocessed_data/tradition_segmented/genre/${T.value}/${o}/`],_=[`${f}_level_${l}_phylogenetic_tree.json`,`${f}_level_${l}_all_genres_phylogenetic_tree.json`,`shared_segments_level_${l}_all_genres_phylogenetic_tree.json`,`shared_segments_level_${l}_phylogenetic_tree.json`,`combined_s75_ss25_${l}_phylogenetic_tree.json`,`combined_s75_ss25_${l}_all_genres_phylogenetic_tree.json`,`combined_s50_ss50_${l}_all_genres_phylogenetic_tree.json`,`${o}_scores_tree.json`,`${o}_tree.json`,`score_tree_${l}_${o}.json`];console.log("Will try these paths:",y),console.log("Will try these files:",_);let p=null,C=null;for(const E of y){if(p)break;for(const I of _)try{const D=`${E}${I}`;console.log(`Trying path: ${D}`);const R=await fetch(D,{cache:"no-cache"});if(R.ok){console.log(` SUCCESS! Found genre tree at: ${D}`),p=await R.json(),C=D;break}}catch{}}if(p||(console.log("Direct approach failed, trying fallback loader..."),p=await H(o,T.value,l,d)),p){console.log(`Successfully loaded genre tree from: ${C||"fallback method"}`);const E=u(p);(!E.name||E.name==="")&&(E.name=`${o.charAt(0).toUpperCase()+o.slice(1)} Scores in ${((A=V[T.value])==null?void 0:A.name)||T.value}`);const I=D=>{D.tradition||(D.tradition=T.value),D.genre||(D.genre=o),D.children&&Array.isArray(D.children)&&D.children.forEach(I)};I(E),r.value=p,n.value=E,Q(E,s.value),h.value=!0}else console.error(`Could not find any tree files for ${o}`),q(o,T.value);Pe(()=>{console.log("Final breadcrumbs after complete genre load:",X.value)}),i.value=!1}()}function K(o,l){console.group(` DEBUG: Genre Navigation for ${o} in ${l}`),console.log(`Current view: ${b.value}`),console.log(`Feature: ${Ue.value}`),console.log(`Level: ${he.value}`);const m={note:"note_level",segment:"shared_segments",combined:"combined",structure:"structure_level"}[he.value]||"shared_segments";console.log(`Will look in: ./preprocessed_data/genre_segmented/${m}/${l}/${o}/`),console.groupEnd()}async function H(o,l,d,m){console.log("Running fallback genre tree loader...");const f=["shared_segments","combined","note_level","structure_level"],_={note:"note_level",segment:"shared_segments",combined:"combined",structure:"structure_level"}[m]||"shared_segments",p=["./preprocessed_data/","../preprocessed_data/","preprocessed_data/"];for(const C of p)for(const A of[_,...f]){const E=[`${C}genre_segmented/${A}/${l}/${o}/`,`${C}tradition_segmented/genre/${l}/${o}/`,`${C}genre/${l}/${o}/`];for(const I of E){const D=[`${A}_level_${d}_phylogenetic_tree.json`,`${A}_level_${d}_all_genres_phylogenetic_tree.json`,`shared_segments_level_${d}_phylogenetic_tree.json`,`shared_segments_level_${d}_all_genres_phylogenetic_tree.json`,`combined_s75_ss25_${d}_phylogenetic_tree.json`,`combined_s75_ss25_${d}_all_genres_phylogenetic_tree.json`,`combined_s50_ss50_${d}_phylogenetic_tree.json`,`${o}_scores_tree.json`,`${o}_tree.json`,`score_tree_${d}_${o}.json`];for(const R of D)try{const N=`${I}${R}`;console.log(`Trying fallback: ${N}`);const B=await fetch(N,{cache:"no-cache"});if(B.ok)return console.log(` Fallback SUCCESS with: ${N}`),await B.json()}catch{}}}return null}async function W(o,l,d,m){var f,y,_;if(!o||!l){console.error("Missing required parameters for genre tree loading"),a.value="Unable to load genre tree: missing information",i.value=!1;return}b.value="genre",z.value=o,T.value=l,Pe(()=>{console.log("Breadcrumbs immediately after state update:",X.value)}),i.value=!0,a.value=null;try{console.log(`Loading genre tree for: ${o} in ${l} tradition`),console.log(`Current feature: ${d}, level: ${m}`);const C={note:"note_level",segment:"shared_segments",combined:"combined",structure:"structure_level"}[m]||"shared_segments",A=`preprocessed_data/genre_segmented/${C}/${l}/${o}/`,E=`${C}_${d}_all_genres_phylogenetic_tree.json`;console.log(`Attempting to load primary target: ${A}${E}`);try{const R=await fetch(`${A}${E}`,{cache:"no-cache"});if(R.ok){console.log(` SUCCESS! Found genre tree at: ${A}${E}`);const N=await R.json(),B=u(N);(!B.name||B.name==="")&&(B.name=`${o.charAt(0).toUpperCase()+o.slice(1)} Scores in ${((f=V[l])==null?void 0:f.name)||l}`);const ve=ye=>{ye.tradition||(ye.tradition=l),ye.genre||(ye.genre=o),ye.children&&Array.isArray(ye.children)&&ye.children.forEach(ve)};ve(B),r.value=N,n.value=B,Q(B,s.value),h.value=!0,i.value=!1,Pe(()=>{console.log("Breadcrumbs after successful tree load:",X.value)});return}}catch(R){console.log(` Error with primary path: ${A}${E}`,R.message)}const I=[`${C}_${d}_phylogenetic_tree.json`,`shared_segments_level_${d}_all_genres_phylogenetic_tree.json`,`shared_segments_level_${d}_phylogenetic_tree.json`,`combined_s75_ss25_${d}_all_genres_phylogenetic_tree.json`,`${o}_tree.json`];for(const R of I)try{const N=await fetch(`${A}${R}`,{cache:"no-cache"});if(N.ok){console.log(` SUCCESS with alternate file: ${A}${R}`);const B=await N.json(),ve=u(B);(!ve.name||ve.name==="")&&(ve.name=`${o.charAt(0).toUpperCase()+o.slice(1)} Scores in ${((y=V[l])==null?void 0:y.name)||l}`);const ye=xe=>{xe.tradition||(xe.tradition=l),xe.genre||(xe.genre=o),xe.children&&Array.isArray(xe.children)&&xe.children.forEach(ye)};ye(ve),r.value=B,n.value=ve,Q(ve,s.value),h.value=!0,i.value=!1;return}}catch{}console.log("Direct approaches failed, falling back to broader search...");const D=await H(o,l,d,m);if(D){const R=u(D);(!R.name||R.name==="")&&(R.name=`${o.charAt(0).toUpperCase()+o.slice(1)} Scores in ${((_=V[l])==null?void 0:_.name)||l}`);const N=B=>{B.tradition||(B.tradition=l),B.genre||(B.genre=o),B.children&&Array.isArray(B.children)&&B.children.forEach(N)};N(R),r.value=D,n.value=R,Q(R,s.value),h.value=!0}else console.error(`Could not find any tree files for ${o} in ${l}`),q(o,l)}catch(p){console.error(`Error loading genre tree for ${o}:`,p),a.value=`Error loading genre tree: ${p.message}`,q(o,l)}finally{b.value==="genre"&&z.value!==o&&(console.log("Fixing inconsistent genre state"),z.value=o),i.value=!1}}function q(o,l){var d,m,f;console.log(`Creating fallback tree for ${o} in ${l}`);try{const y={name:`${o.charAt(0).toUpperCase()+o.slice(1)} Scores in ${((d=V[l])==null?void 0:d.name)||l}`,genre:o,tradition:l,color:((m=V[l])==null?void 0:m.color)||"#999",children:[{name:"No score data found",genre:o,tradition:l,color:((f=V[l])==null?void 0:f.color)||"#999",display_name:"No score data found"}]},_=u(y);r.value=y,n.value=_,Q(_,s.value),h.value=!0}catch(y){console.error("Error creating fallback tree:",y),a.value=`Error creating fallback: ${y.message}`}finally{i.value=!1}}function ne(o,l){var d,m;o.stopPropagation();try{console.log("Node clicked:",l.data),c.value=l,re(s.value).selectAll(".node circle").attr("r",p=>p.children?7:5).attr("stroke-width",1).classed("selected",!1),re(o.currentTarget).select("circle").attr("r",p=>p.children?10:8).attr("stroke-width",2).classed("selected",!0),P.value||(x.value.push({transform:_o(re(s.value).select("svg").node()),zoom:v.value}),P.value=!0);const f=s.value.clientWidth,y=s.value.clientHeight,_=Math.min(v.value*1.2,2);if(re(s.value).select("svg").transition().duration(750).call($.value.transform,Mn.translate(-l.y+f/3,-l.x+y/2).scale(_)),v.value=_,b.value==="genre"&&(!l.children||(d=l.data.name)!=null&&d.includes(".krn")||(m=l.data.name)!=null&&m.includes(".musicxml")||l.data.attributes||l.data.length)){console.log("Score node clicked:",l.data),Pe(()=>{Et(l.data)});return}if(b.value==="traditions"&&l.data.tradition){const p=l.data.tradition;if(p==="irish"||p==="galician"||p==="portuguese"){T.value=p,b.value="tradition",console.log(`Loading tradition-specific tree for ${p}`),oe(p);return}setTimeout(()=>F(l.data.tradition),750);return}if(b.value==="traditions"&&!l.data.tradition&&l.children&&l.children.some(C=>C.data.tradition==="irish"||C.data.tradition==="galician")){c.value=l,b.value="combined",oe();return}if(b.value==="tradition"||b.value==="combined"){if(console.log("Checking for genre node:",l.data),console.log("Has genre property:",!!l.data.genre),l.data.genre){const p=l.data.genre.toLowerCase();if(console.log(` Detected genre node click: ${p}`),l.data.tradition)T.value=l.data.tradition;else if(!T.value){const C=$s(p,V);C&&(T.value=C)}b.value="genre",z.value=p,Pe(()=>{console.log("State after click:",{view:b.value,genre:z.value,tradition:T.value}),W(p,T.value,Ue.value,he.value)});return}else if(l.data.name&&!l.children){const p=l.data.name.toLowerCase();let C=!1;if(Object.values(V).forEach(A=>{A.genres&&A.genres.includes(p)&&(C=!0)}),C){console.log(` Detected genre node by name: ${p}`),b.value="genre",z.value=p,Pe(()=>{console.log("Breadcrumbs after name-based genre click:",X.value),W(p,T.value,Ue.value,he.value)});return}console.log("Name matched no known genre:",p)}}console.log("Node click without specific handling:",l.data)}catch(f){console.error("Error handling node click:",f),a.value=`Error navigating: ${f.message}`,i.value=!1}}async function oe(o=null){var l,d;i.value=!0,a.value=null;try{const m=Ue.value,f=he.value;console.log(`Loading special tree for: ${o||"combined view (Celtic)"}`),console.log(`Current feature: ${m}, level: ${f}`);let y;f==="note"?y="note":f==="segment"?y="shared_segments":f==="structure"?y="structure":y="combined_s75_ss25";let _;o?_=`tradition_segmented/genre/${o}/`:_="tradition_segmented/genre/both/";let p=`genre_tree_${y}_${m}.json`;console.log(`Target folder: ${_}`),console.log(`Target file: ${p}`),o?(T.value=o,b.value="tradition",z.value=null):b.value="combined";const A=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?["/eadigitest/preprocessed_data/","/eadigitest/dist/preprocessed_data/","/eadigitest/","/eadigitest/dist/"]:["./preprocessed_data/","../preprocessed_data/","preprocessed_data/","./","../"];let E=null,I=null;for(const R of A){if(E)break;try{const N=`${R}${_}${p}`;console.log(`Trying primary target: ${N}`);const B=await fetch(N,{cache:"no-cache"});if(B.ok){console.log(` Success with primary target: ${N}`),E=await B.json(),I=N;break}}catch(N){console.log(` Error with primary target path: ${N.message}`)}}if(!E){console.log("Primary target not found, trying fallbacks in same folder");const R=[`genre_tree_${f}_${m}.json`,`${o||"both"}_genre_tree_${y}_${m}.json`,`genre_tree_${m}.json`,`${o||"both"}_genre_tree.json`,`genre_tree_${o||"both"}.json`,"genre_tree.json"];for(const N of A){if(E)break;for(const B of R)try{const ve=`${N}${_}${B}`;console.log(`Trying fallback: ${ve}`);const ye=await fetch(ve,{cache:"no-cache"});if(ye.ok){console.log(` Success with fallback: ${ve}`),E=await ye.json(),I=ve;break}}catch{}}}if(!E){if(console.log("No suitable files found, creating fallback tree"),o){const R=((l=V[o])==null?void 0:l.genres)||[],N=((d=V[o])==null?void 0:d.color)||"#999";E={name:`${o.charAt(0).toUpperCase()+o.slice(1)} Genres`,tradition:o,color:N,children:R.map(B=>({name:B.charAt(0).toUpperCase()+B.slice(1),genre:B,tradition:o,color:N,display_name:B.charAt(0).toUpperCase()+B.slice(1)}))}}else{const R={name:"Celtic Music Traditions",children:[]};if(V.irish){const N={name:"Irish Tradition",tradition:"irish",color:V.irish.color,children:V.irish.genres.map(B=>({name:B.charAt(0).toUpperCase()+B.slice(1),genre:B,tradition:"irish",color:V.irish.color,display_name:B.charAt(0).toUpperCase()+B.slice(1)}))};R.children.push(N)}if(V.galician){const N={name:"Galician Tradition",tradition:"galician",color:V.galician.color,children:V.galician.genres.map(B=>({name:B.charAt(0).toUpperCase()+B.slice(1),genre:B,tradition:"galician",color:V.galician.color,display_name:B.charAt(0).toUpperCase()+B.slice(1)}))};R.children.push(N)}E=R}I="generated-fallback-tree"}if(console.log(`Successfully loaded/generated data from: ${I}`),r.value=E,o&&E){const R=B=>{B.tradition||(B.tradition=o),B.children&&B.children.forEach(R)};R(E);const N=B=>{B.genre&&!B.display_name&&(B.display_name=B.genre.charAt(0).toUpperCase()+B.genre.slice(1)),B.children&&B.children.forEach(N)};N(E)}const D=u(E);n.value=D,Q(D,s.value),h.value=!0,console.log(`Successfully rendered tree for ${o||"Celtic combined view"}`)}catch(m){console.error("Error loading special tree:",m),a.value=`Error loading tree: ${m.message}`,console.log("Falling back to hardcoded tree"),Q(et,s.value)}finally{i.value=!1}}function Q(o,l){re(l).selectAll("svg").remove();const d=l.clientWidth,m=l.clientHeight,f=re(l).append("svg").attr("width",d).attr("height",m).call($.value),y=f.append("g"),_=go(o),p=Ie(_);console.log(`Tree contains ${p} leaf nodes`);const C=Ce(b.value,d,m,p,o),E=mo().size(C.size).separation((I,D)=>C.separation*(I.parent===D.parent?1:1.5))(_);if(Ke(y,E),Xe(y,E,C),fo(f,y,d,m,p),o.tradition||b.value==="tradition"){const I=o.tradition?`${o.name||o.tradition.charAt(0).toUpperCase()+o.tradition.slice(1)+" Genres"}`:o.name||"Genre Tree";f.append("text").attr("x",d/2).attr("y",25).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold").text(I)}p>40&&Me(o,l,p),$.value.on("zoom",I=>{re(s.value).select("svg g").attr("transform",I.transform),v.value=I.transform.k,p>30&&re(s.value).selectAll(".node-label").attr("opacity",D=>D.children||I.transform.k>1.2?1:0)})}function Me(o,l,d){const m=re(l).append("div").attr("class","layout-toggle").style("position","absolute").style("top","10px").style("right","10px").style("padding","5px 10px").style("background","rgba(255,255,255,0.8)").style("border","1px solid #ccc").style("border-radius","4px").style("cursor","pointer").style("user-select","none").text("Try Radial Layout").on("click",()=>{m.text()==="Try Radial Layout"?(switchToRadialLayout(o,l,d),m.text("Switch to Tree Layout")):(Q(o,l),m.text("Try Radial Layout"))})}function Ce(o,l,d,m,f){let y={size:[0,0],separation:1,nodeRadius:D=>D.children?7:5,textOffset:15,fontSize:"12px"};const _=m>20,p=m>40,C=o==="traditions"&&m<10,A=!!f.tradition;let E;p?(E=1.2,y.separation=1.5,y.fontSize="11px"):_?(E=1,y.separation=1.3):C?(E=.5,y.separation=.9,y.fontSize="13px"):(E=.8,y.separation=1.1);let I;switch(p?I=.8:A?I=.6:I=.7,o){case"traditions":y.size=[d*E,l*I];break;case"tradition":y.size=[d*E,l*I];break;case"genre":y.size=[d*E,l*I];break;default:y.size=[d*.9,l*.7]}return p?(y.nodeRadius=D=>!D.children&&D.data.genre?4.5:D.children?6:4,y.textOffset=12):_&&(y.nodeRadius=D=>!D.children&&D.data.genre?5:D.children?6.5:4.5,y.textOffset=13),y}function Ie(o){return o.children?o.children.reduce((l,d)=>l+Ie(d),0):1}function Ke(o,l){const m=l.descendants().length>30;return o.selectAll(".link").data(l.links()).enter().append("path").attr("class",f=>`link ${mt(f.target)}`).attr("d",ke).attr("fill","none").attr("stroke",f=>ms(f)).attr("stroke-width",f=>m?1.5:b.value==="traditions"&&f.target.data.tradition?2.5:2).attr("stroke-opacity",m?.6:.8)}function mt(o){return o.data.tradition?o.data.tradition:o.parent&&o.parent.data.tradition?o.parent.data.tradition:b.value==="tradition"||b.value==="genre"?T.value:"default"}function ms(o){var l,d,m;return o.target.data.tradition?(l=V[o.target.data.tradition])==null?void 0:l.color:o.target.parent&&o.target.parent.data.tradition?(d=V[o.target.parent.data.tradition])==null?void 0:d.color:b.value==="tradition"||b.value==="genre"?(m=V[T.value])==null?void 0:m.color:"#555"}function ke(o){return"M"+o.source.y+","+o.source.x+"C"+(o.source.y+o.target.y)/2+","+o.source.x+" "+(o.source.y+o.target.y)/2+","+o.target.x+" "+o.target.y+","+o.target.x}function Xe(o,l,d){const m=Ie(l),f=m>20,y=o.selectAll(".node").data(l.descendants()).enter().append("g").attr("class",_=>{const p=mt(_);return`node ${_.children?"node--internal":"node--leaf"} ${p}`}).attr("transform",_=>`translate(${_.y}, ${_.x})`).on("click",ne).on("mouseover",function(_,p){re(this).select("circle").transition().duration(200).attr("r",C=>C.children?10:8).attr("stroke-width",2),re(this).select("text").transition().duration(200).attr("font-weight","bold").attr("font-size",parseInt(d.fontSize)+1+"px"),re(s.value).selectAll(".link").filter(C=>C.source===p||C.target===p).transition().duration(200).attr("stroke-width",3).attr("stroke-opacity",1)}).on("mouseout",function(_,p){var C;p!==((C=c.value)==null?void 0:C.data)&&re(this).select("circle").transition().duration(200).attr("r",A=>d.nodeRadius(A)).attr("stroke-width",A=>!A.children&&A.data.genre?2:1.5),re(this).select("text").transition().duration(200).attr("font-weight","normal").attr("font-size",d.fontSize),re(s.value).selectAll(".link").transition().duration(200).attr("stroke-width",f?1.5:2).attr("stroke-opacity",f?.6:.8)});y.append("circle").attr("r",_=>d.nodeRadius(_)).attr("fill",_=>co(_)).attr("stroke","#fff").attr("stroke-width",_=>!_.children&&_.data.genre?2:1.5),y.append("text").attr("dy",_=>_.children?_.children?"-10":"12":"0.31em").attr("x",_=>_.children?0:d.textOffset).attr("text-anchor",_=>_.children?"middle":"start").attr("dominant-baseline","middle").attr("class","node-label").attr("opacity",_=>m>40&&!_.children?0:1).text(_=>{let p="";if(b.value==="genre"){if(_.data.name)if(_.data.name.includes(".krn")){const A=_.data.name.split("_");A.length>=3?p=A.slice(2).join("_").replace(/\.krn$/,""):p=_.data.name.replace(/\.krn$/,"")}else p=_.data.name}else _.data.display_name?p=_.data.display_name:b.value==="traditions"&&_.data.name&&_.data.name!==""?p=_.data.name.charAt(0).toUpperCase()+_.data.name.slice(1):_.data.genre&&(p=_.data.genre.charAt(0).toUpperCase()+_.data.genre.slice(1));const C=m>50?12:m>30?15:20;return p.length>C?p.substring(0,C)+"...":p}).attr("font-size",d.fontSize).attr("fill","#333"),y.append("title").text(_=>uo(_)),setTimeout(()=>_s(m),100)}function _s(o){if(o<20)return;const l=re(s.value).selectAll(".node text");for(let d=0;d<3;d++){const m=[];l.each(function(f){const y=f.y,_=f.x,p=this.getComputedTextLength();m.push({element:this,x:y,y:_,width:p,height:16,data:f})});for(let f=0;f<m.length;f++)for(let y=f+1;y<m.length;y++){const _=m[f],p=m[y];Math.abs(_.y-p.y)<(_.height+p.height)/2&&_.x<p.x+p.width&&_.x+_.width>p.x&&!_.data.children&&!p.data.children&&(re(_.element).attr("dy","1.2em"),re(p.element).attr("dy","-0.5em"))}}}function co(o){var l,d,m,f;if(o.data.genre){if(o.data.tradition)return((l=V[o.data.tradition])==null?void 0:l.color)||"#999";const y=$s(o.data.genre,V);if(y)return((d=V[y.id])==null?void 0:d.color)||"#999";if(b.value==="tradition"||b.value==="genre")return((m=V[T.value])==null?void 0:m.color)||"#999"}if(o.data.tradition)return((f=V[o.data.tradition])==null?void 0:f.color)||"#999";if(o.data.name&&o.data.name!==""){for(const[y,_]of Object.entries(V))if(_.genres.includes(o.data.name.toLowerCase()))return _.color;if(b.value==="traditions"){const y=Lt.value.find(_=>_.name.toLowerCase()===o.data.name.toLowerCase());return y?y.color:"#999"}}return"#999"}function uo(o){var d;if(b.value==="traditions"&&o.data.tradition)return`${o.data.name}
Click to explore ${o.data.name} genres`;let l=o.data.name||o.data.genre||"";return o.data.tradition&&(l+=`
Tradition: ${((d=V[o.data.tradition])==null?void 0:d.name)||o.data.tradition}`),l}function fo(o,l,d,m,f){const y=l.node().getBBox(),_=y.width,p=y.height,C=y.x,A=y.y;let E=.9;f>40&&(E=.8),f>60&&(E=.7);const I=E/Math.max(_/d,p/m),D=[d/2-I*(C+_/2),m/2-I*(A+p/2)];o.transition().duration(750).call($.value.transform,Mn.translate(D[0],D[1]).scale(I)),v.value=I}function ho(){if(!s.value||!h.value)return;const o=Lt.value.filter(l=>l.selected).map(l=>l.name.toLowerCase());if(o.length===0){re(s.value).selectAll(".node").style("opacity",1),re(s.value).selectAll(".link").style("opacity",.8);return}re(s.value).selectAll(".node").style("opacity",l=>l.data.genre?o.includes(l.data.genre.toLowerCase())?1:.2:.3),re(s.value).selectAll(".link").style("opacity",l=>l.target.data.genre?o.includes(l.target.data.genre.toLowerCase())?.8:.1:.3)}return qt(()=>Lt.value,()=>{h.value&&ho()},{deep:!0}),qt(()=>h.value,()=>{x.value=[],P.value=!1},{immediate:!0}),qt([Ue,he],([o,l],[d,m])=>{if(console.log(`Analysis params changed: feature=${o}, level=${l}`),console.log(`Previous values: feature=${d}, level=${m}`),o===d&&l===m)return;const f={view:b.value,tradition:T.value,genre:z.value};console.log(`Current view state: ${JSON.stringify(f)}`),f.view==="genre"&&f.genre&&f.tradition?(console.log(`Reloading genre ${f.genre} with new filters`),W(f.genre,f.tradition,o,l)):f.view==="tradition"&&f.tradition?(console.log(`Reloading tradition ${f.tradition} with new filters`),oe(f.tradition)):f.view==="combined"?(console.log("Reloading combined view with new filters"),oe()):ct()},{deep:!0}),Sn(()=>{try{console.log("Initializing visualization..."),$.value=po().scaleExtent([.1,10]).on("zoom",o=>{re(s.value).select("svg g").attr("transform",o.transform),v.value=o.transform.k}),setTimeout(()=>{s.value?(re(s.value).append("svg").attr("width",100).attr("height",100).append("circle").attr("cx",50).attr("cy",50).attr("r",40).attr("fill","blue"),setTimeout(()=>{re(s.value).selectAll("svg").remove(),ct()},500)):(a.value="Visualization container not available",i.value=!1)},100)}catch(o){console.error("Initialization error:",o),a.value=`Initialization error: ${o.message}`,i.value=!1}}),(o,l)=>{var d,m,f,y,_;return J(),ee("main",la,[U("div",{class:Ze(["breadcrumb-navigation",{"score-breadcrumbs":b.value==="score"||b.value==="compare"}])},[U("ul",aa,[(J(!0),ee(Fe,null,Kt(X.value,(p,C)=>{var A,E,I,D;return J(),ee("li",{key:C,class:Ze(["breadcrumb-item",{active:C===X.value.length-1}])},[U("a",{href:"#",onClick:jl(R=>ze(p),["prevent"]),class:Ze(["breadcrumb-link",{"current-view":C===X.value.length-1}])},[C===0?(J(),ee("span",ua,[l[4]||(l[4]=U("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[U("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"})],-1)),ft(" "+fe(p.text),1)])):p.view==="tradition"?(J(),ee("span",{key:1,class:"tradition-crumb",style:Rt({color:(A=V[p.tradition])==null?void 0:A.color})},fe(p.text),5)):p.view==="genre"?(J(),ee("span",{key:2,class:"genre-crumb",style:Rt({color:(E=V[p.tradition])==null?void 0:E.color})},fe(p.text),5)):p.view==="score"?(J(),ee("span",{key:3,class:"score-crumb",style:Rt({color:(I=V[p.tradition])==null?void 0:I.color})},fe(p.text),5)):p.view==="compare"?(J(),ee("span",{key:4,class:"compare-crumb",style:Rt({color:(D=V[p.tradition])==null?void 0:D.color})},fe(p.text),5)):(J(),ee("span",fa,fe(p.text),1))],10,ca),C<X.value.length-1?(J(),ee("span",da,">")):Se("",!0)],2)}),128))]),b.value==="score"||b.value==="compare"?(J(),ee("button",{key:0,onClick:l[0]||(l[0]=p=>b.value==="compare"?O():ze(X.value[X.value.length-2]||X.value[0])),class:"back-button"},"  Back to "+fe(z.value.value)+" Scores ",1)):Se("",!0)],2),b.value!=="score"&&b.value!=="compare"?(J(),ee("div",ha,[b.value==="genre"?(J(),ee("div",pa,[we.value?(J(),ee("div",ga,[U("span",ma,fe(_e.value.length)+" of "+fe(ws)+" selected ",1),U("button",{onClick:M,class:"cancel-compare"}," Cancel "),U("button",{onClick:L,class:"view-selected",disabled:_e.value.length===0}," Compare Selected ",8,_a)])):(J(),ee("button",{key:0,onClick:w,class:"compare-button",title:"Select multiple scores to compare"},l[5]||(l[5]=[U("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[U("path",{d:"M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"}),U("path",{d:"M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})],-1),ft(" Compare Scores ")])))])):Se("",!0),U("div",{ref_key:"treeContainer",ref:s,class:Ze(["tree-container",{"compare-mode":we.value}])},null,2),i.value?(J(),ee("div",va,l[6]||(l[6]=[U("div",{class:"loading-spinner"},null,-1),U("p",null,"Loading tree visualization...",-1)]))):Se("",!0),a.value?(J(),ee("div",ya,[U("p",null,fe(a.value),1),U("button",{onClick:ct},"Retry")])):Se("",!0),we.value?(J(),ee("div",ba,[U("p",null,"Select up to "+fe(ws)+" scores to compare. Click on a score node to select/deselect it.")])):Se("",!0),c.value&&!we.value?(J(),ee("div",$a,[U("h4",null,"Selected Node: "+fe(c.value.data.display_name||c.value.data.name),1),b.value==="traditions"?(J(),ee("div",wa,[c.value.data.tradition?(J(),ee("p",xa,[l[7]||(l[7]=U("strong",null,"Tradition:",-1)),ft(" "+fe((d=V[c.value.data.tradition])==null?void 0:d.name)+" ",1),l[8]||(l[8]=U("br",null,null,-1)),c.value.data.tradition?(J(),ee("button",{key:0,onClick:l[1]||(l[1]=p=>F(c.value.data.tradition)),class:"explore-button"}," Explore "+fe((m=V[c.value.data.tradition])==null?void 0:m.name),1)):Se("",!0)])):Se("",!0)])):b.value==="tradition"?(J(),ee("div",Ca,[U("p",null,[l[12]||(l[12]=U("strong",null,"Tradition:",-1)),ft(" "+fe((f=V[T.value.value])==null?void 0:f.name)+" ",1),c.value.data.genre?(J(),ee("span",Sa,[l[9]||(l[9]=U("br",null,null,-1)),l[10]||(l[10]=U("strong",null,"Genre:",-1)),ft(" "+fe(c.value.data.genre)+" ",1),l[11]||(l[11]=U("br",null,null,-1)),U("button",{onClick:l[2]||(l[2]=p=>k(c.value.data.genre.toLowerCase())),class:"explore-button"}," Explore "+fe(c.value.data.genre)+" scores ",1)])):Se("",!0)])])):b.value==="genre"?(J(),ee("div",Ta,[U("p",null,[l[14]||(l[14]=U("strong",null,"Genre:",-1)),ft(" "+fe(z.value.value)+" ",1),l[15]||(l[15]=U("br",null,null,-1)),l[16]||(l[16]=U("strong",null,"Tradition:",-1)),ft(" "+fe((y=V[T.value.value])==null?void 0:y.name)+" ",1),l[17]||(l[17]=U("br",null,null,-1)),c.value.data.attributes?(J(),ee("span",La,[(J(!0),ee(Fe,null,Kt(c.value.data.attributes,(p,C)=>(J(),ee("span",{key:C},[U("strong",null,fe(C)+":",1),ft(" "+fe(p),1),l[13]||(l[13]=U("br",null,null,-1))]))),128))])):Se("",!0)])])):Se("",!0)])):Se("",!0)])):Se("",!0),b.value==="score"?(J(),ee("div",Ea,[G.value?(J(),ee("div",Ma,l[18]||(l[18]=[U("div",{class:"loading-spinner"},null,-1),U("p",null,"Loading music score...",-1)]))):de.value?(J(),ee("div",ka,[l[19]||(l[19]=U("h3",null,"Error Loading Score",-1)),U("p",null,fe(de.value),1),U("button",{onClick:l[3]||(l[3]=p=>ze(X.value[X.value.length-2]||X.value[0])),class:"back-button"}," Back to "+fe(((_=X.value[X.value.length-2])==null?void 0:_.text)||"List"),1)])):(J(),ee("div",Pa,[U("div",{ref_key:"scoreRenderer",ref:De,class:"score-renderer"},[Ne.value?Se("",!0):(J(),ee("div",Aa,l[20]||(l[20]=[U("p",null,"Loading music score visualization...",-1)])))],512)]))])):Se("",!0),b.value==="compare"?(J(),ee("div",Ra,[l[22]||(l[22]=U("div",{class:"comparison-controls"},null,-1)),U("div",{class:Ze(["score-comparison-grid",`scores-${_e.value.length}`])},[(J(!0),ee(Fe,null,Kt(_e.value,(p,C)=>(J(),ee("div",{key:C,class:"comparison-score-container"},[U("h3",Fa,fe(p.name),1),U("div",{id:`comparison-renderer-${C}`,class:"comparison-renderer"},[U("div",Oa,[l[21]||(l[21]=U("div",{class:"loading-spinner"},null,-1)),U("p",null,"Loading "+fe(p.name)+"...",1)])],8,ja)]))),128))],2)])):Se("",!0)])}}},Da={class:"app-container"},Na={class:"content-container"},Ha={__name:"App",setup(e){const t=ue(null);return Sn(()=>{console.log("App mounted, sidebar ref:",t.value)}),(s,n)=>(J(),ee("div",Da,[Je(Bl),U("div",Na,[Je(ra,{ref_key:"sidebarRef",ref:t},null,512),Je(Ia,{sidebarRef:t.value},null,8,["sidebarRef"])])]))}};Dl(Ha).mount("#app");
//# sourceMappingURL=index-CyK_S6Xo.js.map
